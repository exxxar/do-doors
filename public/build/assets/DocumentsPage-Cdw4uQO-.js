import{_ as x}from"./AuthenticatedLayout-ClXfq32N.js";import"./ClientTable-6402CrbN.js";import{o as p,c as u,b as t,g as n,v as d,F as _,e as h,a as c,j as m,u as w,w as f,Z as y}from"./app-CEPaiL6J.js";import{_ as b}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ApplicationLogo-BIaKT3wU.js";import"./IndividualDataForm-7UUsIhLV.js";import"./vue-the-mask-u8XnSBtM.js";import"./Pagination-CGWxGn_t.js";import"./UserTable-UQgDdcb_.js";import"./RoleTable-B32MZPHV.js";import"./RalColorSelector-CgLsS-rC.js";import"./main-ljg9dK2M.js";import"./PermissionTable-CN5xkksx.js";const v={props:["modelValue"],data(){return{formData:null}},mounted(){this.formData=this.modelValue},watch:{formData:{handler(s){this.$emit("update:modelValue",this.formData)},deep:!0}}},k={key:0,class:"row"},D={class:"col-md-6"},$=t("h5",{class:"mb-2"},"Продавец",-1),C={class:"input-group mb-2 rounded-0 border-dark"},V={class:"form-floating flex-grow-1"},N=t("label",{for:"company"},"Компания или Название ИП",-1),F=t("span",{class:"input-group-text rounded-0 border-dark"},"${seller_company}",-1),U={class:"input-group mb-2 rounded-0 border-dark"},I={class:"form-floating flex-grow-1"},P=t("label",{for:"INN_KPP"},"ИНН/КПП",-1),O=t("span",{class:"input-group-text rounded-0 border-dark"},"${seller_inn} / ${seller_kpp}",-1),B={class:"input-group mb-2 rounded-0 border-dark"},S={class:"form-floating flex-grow-1"},G=t("label",{for:"OGRN"},"ОГРН или ОГРНИП",-1),K=t("span",{class:"input-group-text rounded-0 border-dark"},"${seller_ogrn}",-1),R=t("h5",{class:"mb-2"},"Поставщик",-1),j={class:"input-group mb-2 rounded-0 border-dark"},T={class:"form-floating flex-grow-1"},E=t("label",{for:"full_name"},"ФИО",-1),q=t("span",{class:"input-group-text rounded-0 border-dark"},"${seller_full_name}",-1),J={class:"col-md-6"},M=t("h5",{class:"mb-2"},"Юридический адрес",-1),Z={class:"input-group mb-2 rounded-0 border-dark"},z={class:"form-floating flex-grow-1"},A=t("label",{for:"postal_code"},"Почтовый индекс",-1),H=t("span",{class:"input-group-text rounded-0 border-dark"},"${seller_postal_code}",-1),L={class:"input-group mb-2 rounded-0 border-dark"},Q={class:"form-floating flex-grow-1"},W=t("label",{for:"region"},"Регион",-1),X=t("span",{class:"input-group-text rounded-0 border-dark"},"${seller_region}",-1),Y={class:"input-group mb-2 rounded-0 border-dark"},tt={class:"form-floating flex-grow-1"},ot=t("label",{for:"city"},"Город",-1),et=t("span",{class:"input-group-text rounded-0 border-dark"},"${seller_city}",-1),lt={class:"input-group mb-2 rounded-0 border-dark"},st={class:"form-floating flex-grow-1"},rt=t("label",{for:"street"},"Улица",-1),nt=t("span",{class:"input-group-text rounded-0 border-dark"},"${seller_street}",-1),dt={class:"input-group mb-2 rounded-0 border-dark"},at={class:"form-floating flex-grow-1"},it=t("label",{for:"building"},"Дом",-1),ct=t("span",{class:"input-group-text rounded-0 border-dark"},"${seller_building}",-1),pt={class:"col-12"},ut=t("h5",{class:"mb-2"},"Банк",-1),mt={class:"input-group mb-2 rounded-0 border-dark"},_t={class:"form-floating flex-grow-1"},ht=t("label",{for:"name"},"Название банка",-1),ft=t("span",{class:"input-group-text rounded-0 border-dark"},"${seller_name}",-1),gt={class:"input-group mb-2 rounded-0 border-dark"},bt={class:"form-floating flex-grow-1"},xt=t("label",{for:"BIC"},"БИК",-1),wt=t("span",{class:"input-group-text rounded-0 border-dark"},"${seller_bic}",-1),yt={class:"input-group mb-2 rounded-0 border-dark"},vt={class:"form-floating flex-grow-1"},kt=t("label",{for:"correspondent_account"},"Корреспондентский счет",-1),Dt=t("span",{class:"input-group-text rounded-0 border-dark"},"${seller_correspondent_account}",-1),$t={class:"input-group mb-2 rounded-0 border-dark"},Ct={class:"form-floating flex-grow-1"},Vt=t("label",{for:"checking_account"},"Расчетный счет",-1),Nt=t("span",{class:"input-group-text rounded-0 border-dark"},"${seller_checking_account}",-1),Ft={class:"input-group mb-2 rounded-0 border-dark"},Ut={class:"form-floating flex-grow-1"},It=t("label",{for:"phone"},"Номер телефона",-1),Pt=t("span",{class:"input-group-text rounded-0 border-dark"},"${seller_phone}",-1),Ot={class:"input-group mb-2 rounded-0 border-dark"},Bt={class:"form-floating flex-grow-1"},St=t("label",{for:"email"},"Email",-1),Gt=t("span",{class:"input-group-text rounded-0 border-dark"},"${seller_email}",-1);function Kt(s,o,r,i,l,a){return l.formData?(p(),u("div",k,[t("div",D,[$,t("div",C,[t("div",V,[n(t("input",{type:"text",class:"form-control",id:"company","onUpdate:modelValue":o[0]||(o[0]=e=>l.formData.title=e)},null,512),[[d,l.formData.title]]),N]),F]),t("div",U,[t("div",I,[n(t("input",{type:"text",class:"form-control",id:"INN_KPP","onUpdate:modelValue":o[1]||(o[1]=e=>l.formData.INN_KPP=e)},null,512),[[d,l.formData.INN_KPP]]),P]),O]),t("div",B,[t("div",S,[n(t("input",{type:"text",class:"form-control",id:"OGRN","onUpdate:modelValue":o[2]||(o[2]=e=>l.formData.OGRN=e)},null,512),[[d,l.formData.OGRN]]),G]),K]),l.formData.supplier_representative?(p(),u(_,{key:0},[R,t("div",j,[t("div",T,[n(t("input",{type:"text",class:"form-control",id:"full_name","onUpdate:modelValue":o[3]||(o[3]=e=>l.formData.supplier_representative.full_name=e)},null,512),[[d,l.formData.supplier_representative.full_name]]),E]),q])],64)):h("",!0)]),t("div",J,[M,t("div",Z,[t("div",z,[n(t("input",{type:"text",class:"form-control",id:"postal_code","onUpdate:modelValue":o[4]||(o[4]=e=>l.formData.legal_address.postal_code=e)},null,512),[[d,l.formData.legal_address.postal_code]]),A]),H]),t("div",L,[t("div",Q,[n(t("input",{type:"text",class:"form-control",id:"region","onUpdate:modelValue":o[5]||(o[5]=e=>l.formData.legal_address.region=e)},null,512),[[d,l.formData.legal_address.region]]),W]),X]),t("div",Y,[t("div",tt,[n(t("input",{type:"text",class:"form-control",id:"city","onUpdate:modelValue":o[6]||(o[6]=e=>l.formData.legal_address.city=e)},null,512),[[d,l.formData.legal_address.city]]),ot]),et]),t("div",lt,[t("div",st,[n(t("input",{type:"text",class:"form-control",id:"street","onUpdate:modelValue":o[7]||(o[7]=e=>l.formData.legal_address.street=e)},null,512),[[d,l.formData.legal_address.street]]),rt]),nt]),t("div",dt,[t("div",at,[n(t("input",{type:"text",class:"form-control",id:"building","onUpdate:modelValue":o[8]||(o[8]=e=>l.formData.legal_address.building=e)},null,512),[[d,l.formData.legal_address.building]]),it]),ct])]),t("div",pt,[ut,t("div",mt,[t("div",_t,[n(t("input",{type:"text",class:"form-control",id:"name","onUpdate:modelValue":o[9]||(o[9]=e=>l.formData.bank.name=e)},null,512),[[d,l.formData.bank.name]]),ht]),ft]),t("div",gt,[t("div",bt,[n(t("input",{type:"text",class:"form-control",id:"BIC","onUpdate:modelValue":o[10]||(o[10]=e=>l.formData.bank.BIC=e)},null,512),[[d,l.formData.bank.BIC]]),xt]),wt]),t("div",yt,[t("div",vt,[n(t("input",{type:"text",class:"form-control",id:"correspondent_account","onUpdate:modelValue":o[11]||(o[11]=e=>l.formData.bank.correspondent_account=e)},null,512),[[d,l.formData.bank.correspondent_account]]),kt]),Dt]),t("div",$t,[t("div",Ct,[n(t("input",{type:"text",class:"form-control",id:"checking_account","onUpdate:modelValue":o[12]||(o[12]=e=>l.formData.bank.checking_account=e)},null,512),[[d,l.formData.bank.checking_account]]),Vt]),Nt]),t("div",Ft,[t("div",Ut,[n(t("input",{type:"text",class:"form-control",id:"phone","onUpdate:modelValue":o[13]||(o[13]=e=>l.formData.phone=e)},null,512),[[d,l.formData.phone]]),It]),Pt]),t("div",Ot,[t("div",Bt,[n(t("input",{type:"email",class:"form-control",id:"email","onUpdate:modelValue":o[14]||(o[14]=e=>l.formData.email=e)},null,512),[[d,l.formData.email]]),St]),Gt])])])):h("",!0)}const g=b(v,[["render",Kt]]),Rt=t("h4",{class:"font-bold mb-2"},"Информация о продавце",-1),jt={class:"row"},Tt=t("div",{class:"col-12"},[t("ul",{class:"nav nav-tabs mb-2",id:"sellerTabs",role:"tablist"},[t("li",{class:"nav-item",role:"presentation"},[t("button",{class:"nav-link rounded-0 active",id:"ip-tab","data-bs-toggle":"tab","data-bs-target":"#ip",type:"button",role:"tab"},"ИП")]),t("li",{class:"nav-item",role:"presentation"},[t("button",{class:"nav-link rounded-0",id:"ooo-tab","data-bs-toggle":"tab","data-bs-target":"#ooo",type:"button",role:"tab"},"ООО")])])],-1),Et={class:"col-12"},qt={class:"tab-content",id:"sellerTabsContent"},Jt={class:"tab-pane fade show active",id:"ip",role:"tabpanel"},Mt={class:"tab-pane fade",id:"ooo",role:"tabpanel"},Zt=t("div",{class:"col-md-3"},[t("button",{type:"submit",class:"btn btn-dark p-3 rounded-0 w-100"},"Сохранить")],-1),zt={data(){return{formData:{seller:{individual_entrepreneur:{title:"ИП Попова Светлана Владимировна",INN_KPP:"760213171495",OGRN:"314583802800012",legal_address:{postal_code:"442960",city:"г. Заречный",street:"ул. Конституции СССР",building:"39г-67"},bank:{name:'АО "Тинькофф Банк"',BIC:"044525974",correspondent_account:"30101810145250000974",checking_account:"40802810200000015526"},email:"dodoors@yandex.ru",phone:"+7(999)000-00-00"},limited_liability_company:{title:'ООО "ДуДорс"',INN_KPP:"5838015942/583801001",OGRN:"1235800002987",legal_address:{postal_code:"442961",region:"Пензенская обл.",city:"г. Заречный",street:"ул. Индустриальная",building:"д. 9А"},bank:{name:'АО "Тинькофф Банк"',BIC:"44525974",correspondent_account:"30101810145250000974",checking_account:"40702810110001367926"},email:"dodoors@yandex.ru",phone:"+7(999)000-00-00",supplier_representative:{full_name:"Попов Дмитрий Андреевич"}}}}}},mounted(){this.loadDocumentConfig()},methods:{loadDocumentConfig(){this.$store.dispatch("loadDocumentConfig").then(s=>{this.formData.seller=JSON.parse(s.seller)}).catch(()=>{})},storeDocumentConfig(){let s=new FormData;Object.keys(this.formData).forEach(o=>{const r=this.formData[o]||"";typeof r=="object"?s.append(o,JSON.stringify(r)):s.append(o,r)}),this.$store.dispatch("storeDocumentConfig",{form:s}).then(o=>{this.$notify({title:"DoDoors",text:"Настройки успешно сохранены!",type:"success"})}).catch(o=>{this.$notify({title:"DoDoors",text:"Ошибочка...",type:"error"})})}}},At=Object.assign(zt,{__name:"SellerInfoEditor",setup(s){return(o,r)=>(p(),u(_,null,[Rt,t("form",{onSubmit:r[2]||(r[2]=m((...i)=>o.storeDocumentConfig&&o.storeDocumentConfig(...i),["prevent"])),class:"mb-2"},[t("div",jt,[Tt,t("div",Et,[t("div",qt,[t("div",Jt,[c(g,{modelValue:o.formData.seller.individual_entrepreneur,"onUpdate:modelValue":r[0]||(r[0]=i=>o.formData.seller.individual_entrepreneur=i)},null,8,["modelValue"])]),t("div",Mt,[c(g,{modelValue:o.formData.seller.limited_liability_company,"onUpdate:modelValue":r[1]||(r[1]=i=>o.formData.seller.limited_liability_company=i)},null,8,["modelValue"])])])]),Zt])],32)],64))}}),Ht={data(){return{file:null}},methods:{onChangeFile(s){const o=s.target.files;this.file=o[0]},submit(s){let o=new FormData;o.append("file",this.file),o.append("type",s),this.$store.dispatch("updateContractTemplate",{contractTemplateForm:o}).then(r=>{s===1&&(this.$refs.doorFileContract1.value=null),s===0&&(this.$refs.doorFileContract2.value=null),s===2&&(this.$refs.doorFileContract3.value=null),this.$notify({title:"DoDoors",text:"Договор успешно загружен",type:"success"}),this.$emit("callback")}).catch(r=>{this.$notify({title:"DoDoors",text:"Ошибка загрузки договора",type:"error"})})}}},Lt=t("div",{class:"row"},[t("div",{class:"col-12"},[t("h4",{class:"font-bold"},"Справочная информация"),t("div",{class:"alert alert-light my-3",role:"alert"}," Ниже представлены ключи, которые подставляются в шаблоны договоров клиента. "),t("table",{class:"table"},[t("thead",null,[t("tr",null,[t("th",{scope:"col",style:{width:"30px"}},"#"),t("th",{scope:"col",style:{width:"100px"}},"Ключ"),t("th",{scope:"col"},"Описание")])]),t("tbody",null,[t("tr",null,[t("th",{scope:"row",style:{width:"30px"}},"1"),t("td",{style:{width:"100px"}},[t("strong",null,"${numb_doc}")]),t("td",null,"Номер договора")]),t("tr",null,[t("th",{scope:"row",style:{width:"30px"}},"2"),t("td",{style:{width:"100px"}},[t("strong",null,"${date_doc}")]),t("td",null,"Дата договора")]),t("tr",null,[t("th",{scope:"row",style:{width:"30px"}},"3"),t("td",{style:{width:"100px"}},[t("strong",null,"${phone}")]),t("td",null,"Номер телефона клиента")]),t("tr",null,[t("th",{scope:"row",style:{width:"30px"}},"4"),t("td",{style:{width:"100px"}},[t("strong",null,"${title}")]),t("td",null,"Названии организации для юр лиц или ФИО для физ лиц")]),t("tr",null,[t("th",{scope:"row",style:{width:"30px"}},"5"),t("td",{style:{width:"100px"}},[t("strong",null,"${member}")]),t("td",null,"ФИО представителя организации (для юр лиц)")]),t("tr",null,[t("th",{scope:"row",style:{width:"30px"}},"6"),t("td",{style:{width:"100px"}},[t("strong",null,"${fio}")]),t("td",null,"Фамилия и инициалы клиента")]),t("tr",null,[t("th",{scope:"row",style:{width:"30px"}},"7"),t("td",{style:{width:"100px"}},[t("strong",null,"${passport}")]),t("td",null,"Серия номер паспорта (для физ лиц)")]),t("tr",null,[t("th",{scope:"row",style:{width:"30px"}},"8"),t("td",{style:{width:"100px"}},[t("strong",null,"${passport_issued}")]),t("td",null,"Кем выдан паспорт (для физ лиц)")]),t("tr",null,[t("th",{scope:"row",style:{width:"30px"}},"9"),t("td",{style:{width:"100px"}},[t("strong",null,"${email}")]),t("td",null,"Почтовый адрес")]),t("tr",null,[t("th",{scope:"row",style:{width:"30px"}},"10"),t("td",{style:{width:"100px"}},[t("strong",null,"${fact_address}")]),t("td",null,"Фактический адрес")]),t("tr",null,[t("th",{scope:"row",style:{width:"30px"}},"11"),t("td",{style:{width:"100px"}},[t("strong",null,"${law_address}")]),t("td",null,"Юридический адрес")]),t("tr",null,[t("th",{scope:"row",style:{width:"30px"}},"12"),t("td",{style:{width:"100px"}},[t("strong",null,"${bank_name}")]),t("td",null,"Название банка")]),t("tr",null,[t("th",{scope:"row",style:{width:"30px"}},"13"),t("td",{style:{width:"100px"}},[t("strong",null,"${bik}")]),t("td",null,"БИК")]),t("tr",null,[t("th",{scope:"row",style:{width:"30px"}},"14"),t("td",{style:{width:"100px"}},[t("strong",null,"${ksch}")]),t("td",null,"к/сч")]),t("tr",null,[t("th",{scope:"row",style:{width:"30px"}},"15"),t("td",{style:{width:"100px"}},[t("strong",null,"${rsch}")]),t("td",null,"р/сч")]),t("tr",null,[t("th",{scope:"row",style:{width:"30px"}},"16"),t("td",{style:{width:"100px"}},[t("strong",null,"${inn}")]),t("td",null,"ИНН")]),t("tr",null,[t("th",{scope:"row",style:{width:"30px"}},"17"),t("td",{style:{width:"100px"}},[t("strong",null,"${kpp}")]),t("td",null,"КПП")]),t("tr",null,[t("th",{scope:"row",style:{width:"30px"}},"18"),t("td",{style:{width:"100px"}},[t("strong",null,"${ogrn}")]),t("td",null,"ОГРН")]),t("tr",null,[t("th",{scope:"row",style:{width:"30px"}},"19"),t("td",{style:{width:"100px"}},[t("strong",null,"${okpo}")]),t("td",null,"ОКПО")]),t("tr",null,[t("th",{scope:"row",style:{width:"30px"}},"20"),t("td",{style:{width:"100px"}},[t("strong",null,"${work_days}")]),t("td",null,"Срок передачи товара Покупателю")]),t("tr",null,[t("th",{scope:"row",style:{width:"30px"}},"21"),t("td",{style:{width:"100px"}},[t("strong",null,"${total_price}")]),t("td",null,"Стоимость всех товаров, руб")]),t("tr",null,[t("th",{scope:"row",style:{width:"30px"}},"22"),t("td",{style:{width:"100px"}},[t("strong",null,"${current_payed}")]),t("td",null,"Начальная внесенная покупателем сумма, руб")]),t("tr",null,[t("th",{scope:"row",style:{width:"30px"}},"23"),t("td",{style:{width:"100px"}},[t("strong",null,"${payed_percent}")]),t("td",null,"Процент внесенной суммы от полной стоимости")]),t("tr",null,[t("th",{scope:"row",style:{width:"30px"}},"24"),t("td",{style:{width:"100px"}},[t("strong",null,"${last_payment}")]),t("td",null,"Оставшиеся денежные средства")])])])])],-1),Qt=t("div",{class:"col-12"},[t("a",{class:"mb-0 small text-red-600",href:"/orders/download-template?type=1",target:"_blank"},"Скачать текущий шаблон для ООО")],-1),Wt={class:"col-md-10"},Xt={class:"form-floating border-gray-100 border"},Yt=t("label",{for:"door-contract-1"},"Договор для ООО",-1),to=t("div",{class:"col-md-2"},[t("button",{class:"btn btn-dark rounded-0 w-100 h-100"},"Загрузить")],-1),oo=t("div",{class:"col-12"},[t("a",{class:"mb-0 small text-red-600",href:"/orders/download-template?type=0",target:"_blank"},"Скачать текущий шаблон ИП")],-1),eo={class:"col-md-10"},lo={class:"form-floating border-gray-100 border"},so=t("label",{for:"door-contract-2"},"Договор для ИП",-1),ro=t("div",{class:"col-md-2"},[t("button",{class:"btn btn-dark rounded-0 w-100 h-100"},"Загрузить")],-1),no=t("div",{class:"col-12"},[t("a",{class:"mb-0 small text-red-600",href:"/orders/download-template?type=2",target:"_blank"},"Скачать текущий шаблон ФЛ")],-1),ao={class:"col-md-10"},io={class:"form-floating border-gray-100 border"},co=t("label",{for:"door-contract-3"},"Договор для ФЛ",-1),po=t("div",{class:"col-md-2"},[t("button",{class:"btn btn-dark rounded-0 w-100 h-100"},"Загрузить")],-1);function uo(s,o,r,i,l,a){return p(),u(_,null,[Lt,t("form",{onSubmit:o[1]||(o[1]=m(e=>a.submit(1),["prevent"])),class:"row mb-3"},[Qt,t("div",Wt,[t("div",Xt,[t("input",{type:"file",class:"form-control",accept:"doc,.docx,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document",id:"door-contract-1",ref:"doorFileContract1",onChange:o[0]||(o[0]=(...e)=>a.onChangeFile&&a.onChangeFile(...e)),placeholder:"name@example.com",required:""},null,544),Yt])]),to],32),t("form",{onSubmit:o[3]||(o[3]=m(e=>a.submit(0),["prevent"])),class:"row mb-3"},[oo,t("div",eo,[t("div",lo,[t("input",{type:"file",class:"form-control",accept:"doc,.docx,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document",id:"door-contract-2",ref:"doorFileContract2",onChange:o[2]||(o[2]=(...e)=>a.onChangeFile&&a.onChangeFile(...e)),placeholder:"name@example.com",required:""},null,544),so])]),ro],32),t("form",{onSubmit:o[5]||(o[5]=m(e=>a.submit(2),["prevent"])),class:"row mb-3"},[no,t("div",ao,[t("div",io,[t("input",{type:"file",class:"form-control",accept:"doc,.docx,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document",id:"door-contract-3",ref:"doorFileContract3",onChange:o[4]||(o[4]=(...e)=>a.onChangeFile&&a.onChangeFile(...e)),placeholder:"name@example.com",required:""},null,544),co])]),po],32)],64)}const mo=b(Ht,[["render",uo]]),_o=t("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"},"Документы",-1),ho={class:"py-12"},fo={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},go={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},bo={class:"p-6 text-gray-900"},xo={data(){return{loading:!1}},methods:{}},Oo=Object.assign(xo,{__name:"DocumentsPage",setup(s){return(o,r)=>(p(),u(_,null,[c(w(y),{title:"Документы"}),c(x,null,{header:f(()=>[_o]),default:f(()=>[t("div",ho,[t("div",fo,[t("div",go,[t("div",bo,[c(At),c(mo)])])])])]),_:1})],64))}});export{Oo as default};
