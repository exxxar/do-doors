import{A as V}from"./ApplicationLogo-_MoZeCtH.js";import{B as q,J as z,K as k,z as P,o,c as l,b as t,x as g,g as w,V as E,a as p,w as d,p as y,T as M,d as c,u as C,_ as F,m as D,v as I,e as n,f as i,t as u,F as $,r as S,j as N,$ as B,k as O}from"./app-z9kiq6Oc.js";import{L as U,I as R,C as A}from"./IndividualDataForm-192GgHrx.js";import{v as j}from"./vue-the-mask-5y75_0cE.js";import{_ as J}from"./_plugin-vue_export-helper-DlAUqK2U.js";const Q={class:"relative"},G={__name:"Dropdown",props:{align:{type:String,default:"right"},width:{type:String,default:"48"},contentClasses:{type:String,default:"py-1 bg-white"}},setup(a){const s=a,e=b=>{h.value&&b.key==="Escape"&&(h.value=!1)};q(()=>document.addEventListener("keydown",e)),z(()=>document.removeEventListener("keydown",e));const r=k(()=>({48:"w-48"})[s.width.toString()]),f=k(()=>s.align==="left"?"ltr:origin-top-left rtl:origin-top-right start-0":s.align==="right"?"ltr:origin-top-right rtl:origin-top-left end-0":"origin-top"),h=P(!1);return(b,v)=>(o(),l("div",Q,[t("div",{onClick:v[0]||(v[0]=T=>h.value=!h.value)},[g(b.$slots,"trigger")]),w(t("div",{class:"fixed inset-0 z-40",onClick:v[1]||(v[1]=T=>h.value=!1)},null,512),[[E,h.value]]),p(M,{"enter-active-class":"transition ease-out duration-200","enter-from-class":"opacity-0 scale-95","enter-to-class":"opacity-100 scale-100","leave-active-class":"transition ease-in duration-75","leave-from-class":"opacity-100 scale-100","leave-to-class":"opacity-0 scale-95"},{default:d(()=>[w(t("div",{class:y(["absolute z-50 mt-2 rounded-md shadow-lg",[r.value,f.value]]),style:{display:"none"},onClick:v[2]||(v[2]=T=>h.value=!1)},[t("div",{class:y(["rounded-md ring-1 ring-black ring-opacity-5",a.contentClasses])},[g(b.$slots,"content")],2)],2),[[E,h.value]])]),_:3})]))}},L={__name:"DropdownLink",props:{href:{type:String,required:!0}},setup(a){return(s,e)=>(o(),c(C(F),{href:a.href,class:"block w-full px-4 py-2 text-start text-sm leading-5 text-gray-700 hover:bg-gray-100 focus:outline-none focus:bg-gray-100 transition duration-150 ease-in-out"},{default:d(()=>[g(s.$slots,"default")]),_:3},8,["href"]))}},m={__name:"NavLink",props:{href:{type:String,required:!0},active:{type:Boolean}},setup(a){const s=a,e=k(()=>s.active?"inline-flex items-center px-1 pt-1 border-b-2 border-indigo-400 text-sm font-medium leading-5 text-gray-900 focus:outline-none focus:border-indigo-700 transition duration-150 ease-in-out":"inline-flex items-center px-1 pt-1 border-b-2 border-transparent text-sm font-medium leading-5 text-gray-500 hover:text-gray-700 hover:border-gray-300 focus:outline-none focus:text-gray-700 focus:border-gray-300 transition duration-150 ease-in-out");return(r,f)=>(o(),c(C(F),{href:a.href,class:y(e.value)},{default:d(()=>[g(r.$slots,"default")]),_:3},8,["href","class"]))}},_={__name:"ResponsiveNavLink",props:{href:{type:String,required:!0},active:{type:Boolean}},setup(a){const s=a,e=k(()=>s.active?"block w-full ps-3 pe-4 py-2 border-l-4 border-indigo-400 text-start text-base font-medium text-indigo-700 bg-indigo-50 focus:outline-none focus:text-indigo-800 focus:bg-indigo-100 focus:border-indigo-700 transition duration-150 ease-in-out":"block w-full ps-3 pe-4 py-2 border-l-4 border-transparent text-start text-base font-medium text-gray-600 hover:text-gray-800 hover:bg-gray-50 hover:border-gray-300 focus:outline-none focus:text-gray-800 focus:bg-gray-50 focus:border-gray-300 transition duration-150 ease-in-out");return(r,f)=>(o(),c(C(F),{href:a.href,class:y(e.value)},{default:d(()=>[g(r.$slots,"default")]),_:3},8,["href","class"]))}},K={class:"input-group mb-2"},H={class:"form-floating"},W=t("label",{for:"checkout-name"},"Название компании\\Ф.И.О. ИП",-1),X={key:0,class:"btn btn-outline-secondary",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},Y=t("i",{class:"fa-solid fa-up-right-and-down-left-from-center"},null,-1),Z=[Y],x={style:{"overflow-y":"scroll",height:"400px",width:"100%"},class:"dropdown-menu dropdown-menu-end rounded-0"},ee=t("i",{class:"fa-solid fa-ban"},null,-1),te=t("li",null,[t("hr",{class:"dropdown-divider"})],-1),se=t("i",{class:"fa-solid fa-plus"},null,-1),oe=t("li",null,[t("hr",{class:"dropdown-divider"})],-1),ae={class:"p-2"},ne={class:"form-floating mb-3"},re={for:"floatingInput"},ie=["onClick"],le=t("br",null,null,-1),de={class:"badge rounded-0 btn-dark",style:{"font-size":"8px"}},ce=["href"],ue={key:0,class:"d-flex justify-content-center my-3"},he=t("div",{class:"spinner-border text-primary mx-2",role:"status"},[t("span",{class:"visually-hidden"},"Loading...")],-1),me={key:1,class:"card rounded-0"},fe=t("div",{class:"card-body"},[t("p",null,"Вы должны добавить в корзину хотя бы одно изделие")],-1),pe=[fe],ve={props:["type","action"],directives:{mask:j.mask},computed:{...D(["getErrors","getDictionary","cartTotalCount","cartTotalPrice","cartProducts"]),filteredClients(){if(!this.search)return this.self_clients||[];const a=this.search.toLowerCase();return this.self_clients.filter(s=>(s.title||"").toLowerCase().includes(a)||(s.fio||"").toLowerCase().includes(a))}},watch:{},data(){return{edit_requisites:!1,search:null,tab:0,timer:null,step:0,editor_modal:null,self_clients:[],clientForm:{id:null,send_to_bitrix:!0,send_to_mail:!1,send_to_telegram:!0,send_to_self_mail:!1,self_email:null,name:null,phone:null,email:null,info:null,promo:null,dealer_percent:0,summary_price_type:null,work_with_nds:1,items:[],current_payed:0,payed_percent:70,payed_percent_type:1,delivery_terms:null,ascent_floor:!1,work_days:0,installation:{need_door_install:!1,count:0,price:0,recount_type:0},designer:{is_fix:!1,value:0,price:0},passport:null,passport_issued:null,need_delivery:!1,delivery_type:1,delivery_address:null,delivery_price:null,delivery_city:null,delivery_service:null,discount_data:null}}},mounted(){this.loadSelfClients(),this.cartProducts.forEach(a=>{a.product.need_door_install&&(this.clientForm.installation.need_door_install=!0,this.clientForm.installation.count+=a.quantity)})},methods:{showEditorForm(){window.location.href="/clients"},selectItem(){},back(){this.$emit("callback")},preparedLawStatus(a){let e=(this.getDictionary.statuses||[]).find(r=>r.value===a)||null;return e?e.title:null},selectInfo(a){if(a==null){this.clientForm.id=null,this.clientForm.name=null,this.clientForm.email=null,this.clientForm.phone=null,this.clientForm.pasport=null,this.clientForm.pasport_issued=null,this.clientForm.fact_address=null;return}this.clientForm.id=a.id||null,this.clientForm.name=a.title||null,this.clientForm.email=a.email||null,this.clientForm.phone=a.phone||null,this.clientForm.delivery_address=a.fact_address||null,this.clientForm.pasport=a.pasport||null,this.clientForm.pasport_issued=a.pasport_issued||null},clearCart(){this.$store.dispatch("clearCart").then(a=>{this.$notify({title:"DoDoors",text:"Успешно очищено",type:"success"})}).catch(a=>{this.$notify({title:"DoDoors",text:"Ошибочка...",type:"error"})})},findPromo(){this.discount=0,!((this.clientForm.promo||"").length<=5)&&this.$store.dispatch("findPromoCode",{code:this.clientForm.promo}).then(a=>{this.discount=a.discount||0})},loadSelfClients(){this.$store.dispatch("loadSelfClients").then(a=>{this.self_clients=a.data||[]}).catch(()=>{})},submit(){this.timer=0;let a=setInterval(()=>{this.timer++},1e3);this.clientForm.items=this.cartProducts;let s=new FormData;Object.keys(this.clientForm).forEach(e=>{const r=this.clientForm[e]||"";typeof r=="object"?s.append(e,JSON.stringify(r)):s.append(e,r)}),s.append("total_price",this.cartTotalPrice),s.append("total_count",this.cartTotalCount),this.$store.dispatch("checkoutItems",{clientForm:s}).then(e=>{clearInterval(a),this.timer=null,this.back(),this.step=0,this.$store.dispatch("clearCart"),this.clientForm={name:null,phone:null,email:null,info:null,passport:null,passport_issued:null,delivery_address:null},this.$notify({title:"DoDoors",text:"Заказ передан менеджеру!",type:"success"})}).catch(e=>{clearInterval(a),this.timer=null,this.$notify({title:"DoDoors",text:"Ошибочка...",type:"error"})})}}},_e=Object.assign(ve,{__name:"CartCheckoutForm",setup(a){return(s,e)=>s.cartTotalCount>0?(o(),l("form",{key:0,onSubmit:e[7]||(e[7]=N((...r)=>s.submit&&s.submit(...r),["prevent"]))},[t("div",K,[t("div",H,[w(t("input",{type:"text",class:"form-control","onUpdate:modelValue":e[0]||(e[0]=r=>s.clientForm.name=r),id:"checkout-name",placeholder:"name@example.com",required:""},null,512),[[I,s.clientForm.name]]),W]),s.self_clients.length>0?(o(),l("button",X,Z)):n("",!0),t("ul",x,[t("li",null,[t("a",{class:"dropdown-item",onClick:e[1]||(e[1]=r=>s.selectInfo(null)),href:"javascript:void(0)"},[ee,i(" Не выбрано")])]),te,t("li",null,[t("a",{class:"dropdown-item",onClick:e[2]||(e[2]=(...r)=>s.showEditorForm&&s.showEditorForm(...r)),href:"javascript:void(0)"},[se,i(" Создать нового")])]),oe,t("li",null,[t("div",ae,[t("div",ne,[w(t("input",{type:"search","onUpdate:modelValue":e[3]||(e[3]=r=>s.search=r),class:"form-control",id:"floatingInput",placeholder:"Имя"},null,512),[[I,s.search]]),t("label",re,"Поиск (найдено "+u(s.filteredClients.length||0)+" клиентов) ",1)])]),(o(!0),l($,null,S(s.filteredClients,(r,f)=>(o(),l("a",{class:y([{"btn-light":f%2===0},"p-2 d-block btn rounded-0"]),style:{"word-wrap":"break-word","overflow-wrap":"break-word"},href:"javascript:void(0)",onClick:h=>s.selectInfo(r)},[i(u(r.title||r.phone)+" ",1),le,t("span",de,u(s.preparedLawStatus(r.status)||"Не указан"),1)],10,ie))),256))])])]),s.clientForm.id?(o(),l("a",{key:0,class:"btn btn-link mb-2 p-0",href:"/client/"+s.clientForm.id,target:"_blank"},"Редактировать клиента",8,ce)):n("",!0),(a.type||0)===0?(o(),c(U,{key:1,modelValue:s.clientForm,"onUpdate:modelValue":e[4]||(e[4]=r=>s.clientForm=r)},null,8,["modelValue"])):n("",!0),(a.type||0)===1?(o(),c(R,{key:2,modelValue:s.clientForm,"onUpdate:modelValue":e[5]||(e[5]=r=>s.clientForm=r)},null,8,["modelValue"])):n("",!0),p(A,{disabled:s.timer,modelValue:s.clientForm,"onUpdate:modelValue":e[6]||(e[6]=r=>s.clientForm=r)},{loader:d(()=>[s.timer?(o(),l("div",ue,[he,i(" Отправляем... ")])):n("",!0)]),_:1},8,["disabled","modelValue"])],32)):(o(),l("div",me,pe))}}),ye={props:["item"],methods:{editDoorItem(){window.dispatchEvent(new CustomEvent("select-door-item",{detail:{item:this.item}}))},removeProduct(){this.$store.dispatch("removeProduct",this.item.product.id)},changeQuantityProductInCart(a="increment"){let s=a==="increment"?this.item.quantity+1:this.item.quantity-1;if(s===0){this.$store.dispatch("removeProduct",this.item.product.id);return}this.$store.dispatch("setQuantity",{id:this.item.product.id,quantity:s})}}},be={class:"card mb-2 rounded-0"},ge={class:"card-body"},ke={class:"row"},we={class:"col-md-12"},$e={class:"text-muted font-bold"},Ce={class:"text-black mb-0"},Fe={key:0},De={key:1,class:"ml-1"},Te={key:2,class:"ml-1"},Ee={key:3},Ie={key:4,class:"ml-1"},Le={key:5,class:"ml-1"},Pe={key:6,class:"ml-1"},Se={key:7,class:"ml-1"},je={key:8,class:"ml-1"},Ve={key:9,class:"ml-1"},qe={key:10,class:"ml-1"},ze={key:11,class:"ml-1"},Me={key:12,class:"ml-1"},Ne={key:13,class:"ml-1"},Be={key:14,class:"ml-1"},Oe={key:15,class:"ml-1"},Ue={key:16,class:"ml-1"},Re={class:"row d-flex align-items-center"},Ae={class:"col-5 col-md-5 col-lg-5 col-xl-5 d-flex justify-content-center mt-2"},Je=t("i",{class:"fas fa-minus"},null,-1),Qe=[Je],Ge={class:"btn",style:{color:"black"}},Ke=t("i",{class:"fas fa-plus"},null,-1),He=[Ke],We={class:"col-5 col-md-5 col-lg-5 col-xl-5"},Xe={class:"mb-0 text-center font-bold"},Ye={class:"col-2 col-md-2 col-lg-2 col-xl-2 text-center"},Ze=t("i",{class:"fas fa-times"},null,-1),xe=[Ze],et={class:"col-12"},tt=t("i",{class:"fa-regular fa-pen-to-square mr-2"},null,-1);function st(a,s,e,r,f,h){var b;return o(),l("div",be,[t("div",ge,[t("div",ke,[t("div",we,[t("h6",$e,u(e.item.product.purpose||"-")+": "+u(e.item.product.door_type.title)+" "+u(e.item.product.width)+"x"+u(e.item.product.height)+"x "+u(((b=e.item.product.opening_type)==null?void 0:b.depth)||0),1),t("h6",Ce,[e.item.product.box_and_frame_color.title?(o(),l("span",Fe,"("+u(e.item.product.box_and_frame_color.title)+")",1)):n("",!0),i(" лицо "),e.item.product.front_side_finish.title?(o(),l("span",De,u(e.item.product.front_side_finish.title),1)):n("",!0),i("/ "),e.item.product.back_side_finish.title?(o(),l("span",Te,u(e.item.product.back_side_finish.title)+",",1)):n("",!0),i(" петли "),e.item.product.loops.title?(o(),l("span",Ee,u(e.item.product.loops.title)+",",1)):n("",!0),e.item.product.hinge_manufacturer.title?(o(),l("span",Ie,u(e.item.product.hinge_manufacturer.title)+",",1)):n("",!0),e.item.product.fittings_color.title?(o(),l("span",Le,"("+u(e.item.product.fittings_color.title)+"),",1)):n("",!0),e.item.product.opening_type.title?(o(),l("span",Pe,u(e.item.product.opening_type.title)+",",1)):n("",!0),e.item.product.handle_holes.title?(o(),l("span",Se,u(e.item.product.handle_holes.title)+",",1)):n("",!0),e.item.product.need_automatic_doorstep?(o(),l("span",je," автоматический порожек,")):n("",!0),e.item.product.need_upper_jumper?(o(),l("span",Ve," верхняя перемычка,")):n("",!0),e.item.product.need_handle_holes?(o(),l("span",qe," дверная ручка,")):n("",!0),e.item.product.handle_holes_type.title?(o(),l("span",ze,u(e.item.product.handle_holes_type.title)+",",1)):n("",!0),e.item.product.handle_holes.title?(o(),l("span",Me,u(e.item.product.handle_holes.title)+",",1)):n("",!0),e.item.product.need_hidden_door_closer?(o(),l("span",Ne," скрытый доводчик,")):n("",!0),e.item.product.need_hidden_skirting_board?(o(),l("span",Be," скрытый плинтус,")):n("",!0),e.item.product.need_hidden_stopper?(o(),l("span",Oe," скрытый стопор,")):n("",!0),e.item.product.need_door_install?(o(),l("span",Ue," установка двери")):n("",!0)])])]),t("div",Re,[t("div",Ae,[t("button",{class:"btn btn-link px-2",type:"button",style:{color:"black"},onClick:s[0]||(s[0]=v=>h.changeQuantityProductInCart("decrement"))},Qe),t("span",Ge,u(e.item.quantity),1),t("button",{class:"btn btn-link px-2",type:"button",style:{color:"black"},onClick:s[1]||(s[1]=v=>h.changeQuantityProductInCart("increment"))},He)]),t("div",We,[t("h6",Xe,u(e.item.quantity*(e.item.product.price||0))+" ₽",1)]),t("div",Ye,[t("a",{href:"javascript:void(0)",onClick:s[2]||(s[2]=(...v)=>h.removeProduct&&h.removeProduct(...v)),class:"text-muted"},xe)]),t("div",et,[t("button",{type:"button",style:{color:"black"},class:"btn btn-link",onClick:s[3]||(s[3]=(...v)=>h.editDoorItem&&h.editDoorItem(...v))},[tt,i("Редактировать")])])])])])}const ot=J(ye,[["render",st]]),at={class:"offcanvas offcanvas-end",tabindex:"-1",id:"cart","aria-labelledby":"cart"},nt={class:"offcanvas-header"},rt={class:"offcanvas-title font-bold"},it={key:0},lt={key:1},dt=t("button",{type:"button",class:"btn-close","data-bs-dismiss":"offcanvas","aria-label":"Close"},null,-1),ct={key:0,class:"offcanvas-body"},ut=t("div",{class:"hr my-3"},null,-1),ht={key:1,class:"card rounded-0"},mt=t("div",{class:"card-body"},[t("p",null,"Вы должны добавить в корзину хотя бы одно изделие")],-1),ft=[mt],pt={key:1,class:"offcanvas-body"},vt={key:2,class:"offcanvas-footer p-3"},_t={key:3,class:"offcanvas-footer p-3"},yt={key:0},bt={props:["orderId"],directives:{mask:j.mask},computed:{...D(["getErrors","getDictionary","cartTotalCount","cartTotalPrice","cartProducts"])},data(){return{tab:0,step:0,action:[],discount:0}},mounted(){this.step=0,this.tab=0},methods:{back(){this.step=0,this.tab=0},checkout(a){this.step=1,this.tab=1,this.preCheckAction(a)},preCheckAction(a){let s=this.action.findIndex(e=>e===a);if(s!==-1){this.action.splice(s,1);return}this.action.push(a)},clearCart(){this.$store.dispatch("clearCart").then(a=>{this.$notify({title:"DoDoors",text:"Успешно очищено",type:"success"}),window.dispatchEvent(new CustomEvent("clear-cart"))}).catch(a=>{this.$notify({title:"DoDoors",text:"Ошибочка...",type:"error"})})},downloadCartExcel(){let a=this.cartProducts,s=new FormData;s.append("items",JSON.stringify(a)),this.$store.dispatch("downloadExcel",{cardData:s}).then(e=>{var r=window.URL.createObjectURL(new Blob([e])),f=document.createElement("a");f.href=r,f.setAttribute("download","cart.xls"),document.body.appendChild(f),f.click(),this.$notify({title:"DoDoors",text:"Excel успешно скачан!",type:"success"})}).catch(e=>{this.$notify({title:"DoDoors",text:"Ошибочка...",type:"error"})})},loadSelfClients(){this.$store.dispatch("loadSelfClients").then(a=>{this.self_clients=a.data||[]}).catch(()=>{})},submit(){this.clientForm.items=this.cartProducts;let a=new FormData;Object.keys(this.clientForm).forEach(s=>{const e=this.clientForm[s]||"";typeof e=="object"?a.append(s,JSON.stringify(e)):a.append(s,e)}),this.orderId&&a.append("order_id",this.orderId),a.append("total_price",this.cartTotalPrice),a.append("total_count",this.cartTotalCount),this.$store.dispatch("checkoutItems",{clientForm:a}).then(s=>{this.step=0,this.$store.dispatch("clearCart"),this.clientForm={name:null,phone:null,email:null,info:null},this.$notify({title:"DoDoors",text:"Заказ передан менеджеру!",type:"success"})}).catch(s=>{this.$notify({title:"DoDoors",text:"Ошибочка...",type:"error"})})}}},gt=Object.assign(bt,{__name:"CalcCartSimple",setup(a){return(s,e)=>(o(),l("div",at,[t("div",nt,[t("h5",rt,[s.tab===0?(o(),l("span",it,"Вы выбрали")):n("",!0),s.tab===1?(o(),l("span",lt,"Оформление заказа")):n("",!0)]),dt]),s.tab===0?(o(),l("div",ct,[s.cartProducts.length>0?(o(),l($,{key:0},[(o(!0),l($,null,S(s.cartProducts,r=>(o(),c(ot,{item:r},null,8,["item"]))),256)),ut,t("button",{onClick:e[0]||(e[0]=(...r)=>s.downloadCartExcel&&s.downloadCartExcel(...r)),class:"btn btn-dark rounded-0 w-100 mb-2"}," Скачать в виде Excel-файла "),t("button",{onClick:e[1]||(e[1]=(...r)=>s.clearCart&&s.clearCart(...r)),class:"btn btn-outline-secondary rounded-0 w-100 mb-2"}," Очистить корзину ")],64)):(o(),l("div",ht,ft))])):n("",!0),s.tab===1?(o(),l("div",pt,[s.step===1?(o(),c(_e,{key:0,onCallback:s.back,action:s.action},null,8,["onCallback","action"])):n("",!0)])):n("",!0),s.tab===1?(o(),l("div",vt,[t("button",{type:"button",class:"btn btn-outline-secondary w-100 rounded-0 p-3",onClick:e[2]||(e[2]=(...r)=>s.back&&s.back(...r))},"Назад ")])):n("",!0),s.cartProducts.length>0&&s.tab===0?(o(),l("div",_t,[s.step===0?(o(),l("div",yt,[t("button",{class:"btn btn-success rounded-0 w-100 p-3",onClick:e[3]||(e[3]=r=>s.checkout(0))},"Перейти к оформлению ")])):n("",!0)])):n("",!0)]))}}),kt={class:"min-h-screen bg-gray-100"},wt={class:"bg-white border-b border-gray-100"},$t={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},Ct={class:"flex justify-between h-16"},Ft={class:"flex"},Dt={class:"shrink-0 flex items-center"},Tt={class:"hidden space-x-8 sm:-my-px sm:ms-10 sm:flex"},Et={class:"badge bg-danger ml-1 rounded-full"},It={class:"hidden sm:flex sm:items-center sm:ms-6"},Lt={class:"ms-3 relative"},Pt={class:"inline-flex rounded-0"},St={type:"button",class:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-0 text-gray-500 bg-white hover:text-gray-700 focus:outline-none transition ease-in-out duration-150"},jt=t("svg",{class:"ms-2 -me-0.5 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[t("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1),Vt={class:"-me-2 flex items-center sm:hidden"},qt={class:"h-6 w-6",stroke:"currentColor",fill:"none",viewBox:"0 0 24 24"},zt={class:"pt-2 pb-3 space-y-1"},Mt={class:"pt-4 pb-1 border-t border-gray-200"},Nt={class:"px-4"},Bt={class:"font-medium text-base text-gray-800"},Ot={class:"font-medium text-sm text-gray-500"},Ut={class:"mt-3 space-y-1"},Rt=t("hr",null,null,-1),At={class:"mt-3 space-y-1"},Jt=t("i",{class:"fa-solid fa-lock"},null,-1),Qt=t("i",{class:"fa-solid fa-lock"},null,-1),Gt={key:0,class:"bg-white shadow"},Kt={class:"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8"},Ht=O('<div class="container border-b border-gray-100"><footer class="py-3 my-4"><div class="d-flex justify-center"><img src="/images/logo.jpg" style="width:100px;" alt=""></div><p class="text-center text-muted">© 2025 DoDoors</p></footer></div>',1),Wt={key:0,class:"cart-fixed-btn"},Xt={class:"btn rounded-0 shadow-lg","data-bs-toggle":"offcanvas",href:"#cart",role:"button","aria-controls":"cart"},Yt=t("i",{class:"fa-solid fa-basket-shopping text-primary"},null,-1),Zt={class:"badge text-primary font-bold"},xt={class:"offcanvas offcanvas-start","data-bs-scroll":"true","data-bs-backdrop":"false",tabindex:"-1",id:"main-side-admin-menu","aria-labelledby":"offcanvasExampleLabel"},es=t("div",{class:"offcanvas-header"},[t("h5",{class:"offcanvas-title",id:"offcanvasExampleLabel"}," DoDoors "),t("button",{type:"button",class:"btn-close","data-bs-dismiss":"offcanvas","aria-label":"Close"},[t("i",{class:"fa-solid fa-xmark"})])],-1),ts={class:"offcanvas-body"},ss={class:"row"},os={class:"col-md-6"},as=t("i",{class:"fa-solid fa-user-tie mr-2"},null,-1),ns={class:"col-md-6"},rs=t("i",{class:"fa-solid fa-screwdriver-wrench mr-2"},null,-1),is={class:"py-5"},ls={key:0,class:"d-flex flex-col align-items-center"},ds={key:1,class:"d-flex flex-col align-items-center"},cs={props:["orderId"],data(){return{menuTab:0}},computed:{...D(["getErrors","cartTotalCount","cartProducts"])},mounted(){},methods:{hasRoles(a){return(this.$page.props.auth.roles||[]).includes(a)},can(a){return(this.$page.props.auth.permissions||[]).includes(a)}}},vs=Object.assign(cs,{__name:"AuthenticatedLayout",setup(a){const s=P(!1);return(e,r)=>{const f=B("notifications");return o(),l($,null,[t("div",null,[p(f,{position:"top right"}),t("div",kt,[t("nav",wt,[t("div",$t,[t("div",Ct,[t("div",Ft,[t("div",Dt,[p(C(F),{href:e.route("dashboard")},{default:d(()=>[p(V,{class:"block h-9 w-auto fill-current text-gray-800"})]),_:1},8,["href"])]),t("div",Tt,[e.can("manage-views-adminmenu")?(o(),c(m,{key:0,"data-bs-toggle":"offcanvas",href:"#main-side-admin-menu",role:"button","aria-controls":"main-side-admin-menu"},{default:d(()=>[i(" Админ.меню ")]),_:1})):n("",!0),p(m,{href:e.route("dashboard"),active:e.route().current("dashboard")},{default:d(()=>[i(" Главная ")]),_:1},8,["href","active"]),e.cartTotalCount>0?(o(),c(m,{key:1,href:e.route("basket"),active:e.route().current("basket")},{default:d(()=>[i(" Корзина "),t("span",Et,u(e.cartTotalCount),1)]),_:1},8,["href","active"])):n("",!0)])]),t("div",It,[t("div",Lt,[p(G,{align:"right",width:"48"},{trigger:d(()=>[t("span",Pt,[t("button",St,[i(u(e.$page.props.auth.user.name)+" ",1),jt])])]),content:d(()=>[p(L,{href:e.route("profile.edit")},{default:d(()=>[i(" Профиль")]),_:1},8,["href"]),p(L,{href:e.route("logout"),method:"post",as:"button"},{default:d(()=>[i(" Выход ")]),_:1},8,["href"])]),_:1})])]),t("div",Vt,[t("button",{onClick:r[0]||(r[0]=h=>s.value=!s.value),class:"inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:bg-gray-100 focus:text-gray-500 transition duration-150 ease-in-out"},[(o(),l("svg",qt,[t("path",{class:y({hidden:s.value,"inline-flex":!s.value}),"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"},null,2),t("path",{class:y({hidden:!s.value,"inline-flex":s.value}),"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"},null,2)]))])])])]),t("div",{class:y([{block:s.value,hidden:!s.value},"sm:hidden"])},[t("div",zt,[p(_,{href:e.route("dashboard"),active:e.route().current("dashboard")},{default:d(()=>[i(" Главная страница ")]),_:1},8,["href","active"])]),t("div",Mt,[t("div",Nt,[t("div",Bt,u(e.$page.props.auth.user.name),1),t("div",Ot,u(e.$page.props.auth.user.email),1)]),t("div",Ut,[p(_,{href:e.route("profile.edit")},{default:d(()=>[i(" Профиль")]),_:1},8,["href"]),p(_,{href:e.route("logout"),method:"post",as:"button"},{default:d(()=>[i(" Выход ")]),_:1},8,["href"]),Rt]),t("div",At,[e.can("manage-users")?(o(),c(_,{key:0,class:"p-3",href:e.route("users"),active:e.route().current("users")},{default:d(()=>[i(" Пользователи ")]),_:1},8,["href","active"])):n("",!0),e.can("manage-clients")?(o(),c(_,{key:1,class:"p-3"},{default:d(()=>[i(" Клиенты "),Jt]),_:1})):n("",!0),e.can("manage-orders")?(o(),c(_,{key:2,class:"p-3"},{default:d(()=>[i(" Заказы "),Qt]),_:1})):n("",!0),e.can("manage-materials")?(o(),c(_,{key:3,class:"p-3",href:e.route("materials"),active:e.route().current("materials")},{default:d(()=>[i(" Материалы ")]),_:1},8,["href","active"])):n("",!0),e.can("manage-handles")?(o(),c(_,{key:4,class:"p-3",href:e.route("handles"),active:e.route().current("handles")},{default:d(()=>[i(" Ручки ")]),_:1},8,["href","active"])):n("",!0),e.can("manage-hinges")?(o(),c(_,{key:5,class:"p-3",href:e.route("hinges"),active:e.route().current("hinges")},{default:d(()=>[i(" Петли ")]),_:1},8,["href","active"])):n("",!0),e.can("manage-door-variants")?(o(),c(_,{key:6,class:"p-3",href:e.route("door-variants"),active:e.route().current("door-variants")},{default:d(()=>[i(" Типы дверей ")]),_:1},8,["href","active"])):n("",!0),e.can("manage-colors")?(o(),c(_,{key:7,class:"p-3",href:e.route("colors"),active:e.route().current("colors")},{default:d(()=>[i(" Цвета ")]),_:1},8,["href","active"])):n("",!0),e.can("manage-sizes")?(o(),c(_,{key:8,class:"p-3",href:e.route("sizes"),active:e.route().current("sizes")},{default:d(()=>[i(" Размеры ")]),_:1},8,["href","active"])):n("",!0)])])],2)]),e.$slots.header?(o(),l("header",Gt,[t("div",Kt,[g(e.$slots,"header")])])):n("",!0),t("main",null,[g(e.$slots,"default")])])]),Ht,e.cartTotalCount>0?(o(),l("div",Wt,[t("a",Xt,[Yt,t("span",Zt,u(e.cartTotalCount)+" шт.",1)])])):n("",!0),p(gt,{"order-id":a.orderId},null,8,["order-id"]),t("div",xt,[es,t("div",ts,[t("div",ss,[t("div",os,[t("button",{class:y(["btn w-100 rounded-0",{"btn-dark":e.menuTab===0,"btn-outline-secondary":e.menuTab!==0}]),onClick:r[1]||(r[1]=h=>e.menuTab=0)},[as,i("Общее ")],2)]),t("div",ns,[t("button",{class:y(["btn w-100 rounded-0",{"btn-dark":e.menuTab===1,"btn-outline-secondary":e.menuTab!==1}]),onClick:r[2]||(r[2]=h=>e.menuTab=1)},[rs,i("Админ ")],2)])]),t("div",is,[e.menuTab===0?(o(),l("nav",ls,[e.can("manage-calc")?(o(),c(m,{key:0,class:"p-3",href:e.route("calc"),active:e.route().current("calc")},{default:d(()=>[i(" Калькулятор ")]),_:1},8,["href","active"])):n("",!0),e.can("manage-clients")?(o(),c(m,{key:1,class:"p-3",href:e.route("clients"),active:e.route().current("clients")},{default:d(()=>[i(" Клиенты ")]),_:1},8,["href","active"])):n("",!0),e.can("manage-clients")?(o(),c(m,{key:2,class:"p-3",href:e.route("documents"),active:e.route().current("documents")},{default:d(()=>[i(" Договора (Документы) ")]),_:1},8,["href","active"])):n("",!0),e.can("manage-orders")?(o(),c(m,{key:3,class:"p-3",href:e.route("orders"),active:e.route().current("orders")},{default:d(()=>[i(" Заказы ")]),_:1},8,["href","active"])):n("",!0),e.can("manage-promo-codes")?(o(),c(m,{key:4,class:"p-3",href:e.route("promo-codes"),active:e.route().current("promo-codes")},{default:d(()=>[i(" Промокоды ")]),_:1},8,["href","active"])):n("",!0)])):n("",!0),e.menuTab===1?(o(),l("nav",ds,[e.can("manage-users")?(o(),c(m,{key:0,class:"p-3",href:e.route("users"),active:e.route().current("users")},{default:d(()=>[i(" Пользователи ")]),_:1},8,["href","active"])):n("",!0),e.can("manage-roles")?(o(),c(m,{key:1,class:"p-3",href:e.route("roles"),active:e.route().current("roles")},{default:d(()=>[i(" Роли пользователей ")]),_:1},8,["href","active"])):n("",!0),e.can("manage-permissions")?(o(),c(m,{key:2,class:"p-3",href:e.route("permissions"),active:e.route().current("permissions")},{default:d(()=>[i(" Разрешения пользователей ")]),_:1},8,["href","active"])):n("",!0),e.can("manage-services")?(o(),c(m,{key:3,class:"p-3",href:e.route("services"),active:e.route().current("services")},{default:d(()=>[i(" Сервисы ")]),_:1},8,["href","active"])):n("",!0),e.can("manage-materials")?(o(),c(m,{key:4,class:"p-3",href:e.route("materials"),active:e.route().current("materials")},{default:d(()=>[i(" Материалы ")]),_:1},8,["href","active"])):n("",!0),e.can("manage-handles")?(o(),c(m,{key:5,class:"p-3",href:e.route("handles"),active:e.route().current("handles")},{default:d(()=>[i(" Ручки ")]),_:1},8,["href","active"])):n("",!0),e.can("manage-hinges")?(o(),c(m,{key:6,class:"p-3",href:e.route("hinges"),active:e.route().current("hinges")},{default:d(()=>[i(" Петли ")]),_:1},8,["href","active"])):n("",!0),e.can("manage-door-variants")?(o(),c(m,{key:7,class:"p-3",href:e.route("door-variants"),active:e.route().current("door-variants")},{default:d(()=>[i(" Типы дверей ")]),_:1},8,["href","active"])):n("",!0),e.can("manage-colors")?(o(),c(m,{key:8,class:"p-3",href:e.route("colors"),active:e.route().current("colors")},{default:d(()=>[i(" Цвета ")]),_:1},8,["href","active"])):n("",!0),e.can("manage-sizes")?(o(),c(m,{key:9,class:"p-3",href:e.route("sizes"),active:e.route().current("sizes")},{default:d(()=>[i(" Размеры ")]),_:1},8,["href","active"])):n("",!0)])):n("",!0)])])])],64)}}});export{vs as _,_e as a};
