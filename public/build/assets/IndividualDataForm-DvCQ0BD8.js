import{m as O,o as r,c,b as e,f as v,t as w,e as h,F as k,p as b,g as p,h as V,v as y,r as M,x as R,l as E,s as D}from"./app-D45p5dsZ.js";import{_ as T}from"./_plugin-vue_export-helper-DlAUqK2U.js";const B={props:["modelValue","disabled"],data(){return{blocks:{install:!0,designer:!0,delivery:!0,develop:!0,price:!0,price_type_attention:!0},need_promo:!1,flgDays:!0,discount:0,clientForm:null,delivery_services:[]}},mounted(){if(localStorage.getItem("dodoors_cart_checkout_blocks")){const n=JSON.parse(localStorage.getItem("dodoors_cart_checkout_blocks")),o=Object.keys(this.blocks).length||0,_=Object.keys(n).length||0;console.log("keysCountOriginal",o),console.log("keysCountSaved",_),o===_?this.blocks=n:localStorage.setItem("dodoors_cart_checkout_blocks",JSON.stringify(this.blocks))}this.clientForm=this.modelValue,console.log("this.clientForm.summary_price_type",this.clientForm.summary_price_type),this.clientForm.summary_price_type||this.getDictionary.price_type_variants.forEach(n=>{n.key==="retail"&&(this.clientForm.summary_price_type=n)}),this.selectPayedPercentType(1),this.loadServicesByType()},computed:{...O(["getErrors","getDictionary","cartTotalCount","cartTotalPrice","cartProducts"]),designerPrice(){let n=0;return this.cartProducts.forEach(o=>{n+=o.product.base_price||0}),this.clientForm.designer.price=(n*this.clientForm.designer.value/100).toFixed(2),this.clientForm.designer.price}},watch:{discount:{handler(n){this.modelValue.discount_data={discount_percent:this.discount,discount_amount:Math.round(this.cartTotalPrice*this.discount/100)},this.changeDiscount()},deep:!0},blocks:{handler(n){localStorage.setItem("dodoors_cart_checkout_blocks",JSON.stringify(this.blocks))},deep:!0},need_promo:{handler(n){this.need_promo&&(this.discount=0)},deep:!0},"clientForm.dealer_percent":{handler(n){this.recountPrices()},deep:!0},clientForm:{handler(n){!this.clientForm.designer.is_fix&&this.clientForm.designer.value>100&&(this.clientForm.designer.value=30),this.$emit("update:modelValue",this.clientForm)},deep:!0}},methods:{changeDiscount(){const n=Math.round(this.cartTotalPrice*this.discount/100);this.clientForm.current_payed=Math.max(0,Math.round((this.cartTotalPrice-n)*this.clientForm.payed_percent/100))},recountPrices(){const n=this.clientForm.dealer_percent||0,o=this.clientForm.summary_price_type;let _=this.cartProducts;const F=this.getDictionary;let t=0,f=null,l=[],d=o.key,j=C=>Math.round(parseInt(C)/10)*10;_.forEach(C=>{var I;const s=C.product;let z=i=>{let m=typeof s.door_type.price=="object"?s.door_type.price[d]:s.door_type.price,a=s.door_type.id!==3?1:.8,u=s.door_type.need_percent_price?i*m/100:i*a+m;return l.push({type:"door_type",price:(u||0)>0?u:i}),(u||0)>0?u:i};Object.keys(s).forEach(i=>{let m=!1;if(i&&typeof s[i]=="object"&&s[i]!=null&&i!=="door_type"){if(i==="opening_type"&&s[i].sizes){m=!0;let a=s[i].sizes.findIndex(P=>P.width==s.width&&P.height==s.height),u=a===-1?0:s[i].sizes[a].price[d];t+=parseInt(u||0),console.log("opening_type",u,i),l.push({type:i,price:u})}if(i.indexOf("_color")!==-1&&s[i].sizes&&!m){m=!0;let a=(s[i]||{excludes:[]}).excludes.indexOf(i.substring(0,i.indexOf("_color")))!==-1,u=0;if(!s[i].assign_with_size)u=a?0:s[i].sizes[0].price[d];else{let P=s[i].sizes.findIndex(S=>S.width==s.width&&S.height==s.height);u=P===-1||a?0:s[i].sizes[P].price[d]}t+=parseInt(u||0),l.push({type:i,price:u})}if(i==="hinge_manufacturer"&&s[i].title!=null&&!m){m=!0;let a=s[i].price[d],u=0;s.size&&(u=s.size.loops.count*a),t+=parseInt(u||0),l.push({type:i,price:a,full_price:u})}if(i==="size"&&s[i].loops.price&&!m){m=!0;let a=s[i].loops.price[d];t+=parseInt(a||0),l.push({type:i,price:a})}if(i==="service_painting"&&s[i].title!=null&&!m){m=!0;let a=s.fittings_color.is_ral?s[i].price[d]:0,u=0;s.size&&(u=(s.size.loops.count+1)*a),t+=u||0,l.push({type:i,price:a,full_price:u})}if(s[i].price&&!m){let a=typeof s[i].price=="object"?s[i].price[d]||0:s[i].price||0;t+=parseInt(a||0),l.push({type:i,price:a})}}});let x=F.prices,g=0,q=!1,U=null;if(x.forEach(i=>{i.width===s.width&&i.height===s.height&&(q=!0,U=i)}),q){f=U.materials.find(m=>m.is_base)||{price:{wholesale:0,dealer:0,retail:0,cost:0}};let i=typeof f.price=="object"?f.price[d]:f.price;l.push({type:"base",price:i}),g=parseInt(z(i)),U.materials.forEach(m=>{if(m.id===s.front_side_finish.id&&!s.front_side_finish.is_base){let a=typeof m.price=="object"?m.price[d]:m.price;g+=a,this.ces.push({type:"front_side_finish",price:a})}if(m.id===s.back_side_finish.id&&!s.back_side_finish.is_base){let a=typeof m.price=="object"?m.price[d]:m.price;g+=a,l.push({type:"back_side_finish",price:a})}})}else for(let i=0;i<x.length;i++)if(x[i].width>=s.width&&x[i].height>=s.height){f=x[i].materials.find(a=>a.is_base)||{price:{wholesale:0,dealer:0,retail:0,cost:0}};let m=typeof f.price=="object"?f.price[d]:f.price;l.push({type:"base",price:m}),g=parseInt(z(m)),x[i].materials.forEach(a=>{if(a.id===s.front_side_finish.id&&!s.front_side_finish.is_base){let u=typeof a.price=="object"?a.price[d]:a.price;g+=u,l.push({type:"front_side_finish",price:u})}}),x[i].materials.forEach(a=>{if(a.id===s.back_side_finish.id&&!s.back_side_finish.is_base){let u=typeof a.price=="object"?a.price[d]:a.price;g+=u,l.push({type:"back_side_finish",price:u})}});break}s.price=n===0?j(t+g):Math.round((j(t+g)||0)*(1+(n||0)/100)),s.base_price=((I=l.find(i=>i.type==="door_type"))==null?void 0:I.price)||0}),this.$store.dispatch("updateCartItems",_),this.changePayedPercent()},selectPriceType(n){this.clientForm.summary_price_type=n,this.recountPrices(),this.changePayedPercent()},loadServicesByType(){this.$store.dispatch("loadServicesByType",{type:"service_delivery"}).then(n=>{this.delivery_services=n.data||[]}).catch(()=>{})},selectPayedPercentType(n){switch(this.clientForm.payed_percent_type=n,n){case 0:this.clientForm.payed_percent=50;break;default:case 1:this.clientForm.payed_percent=70;break;case 2:this.clientForm.payed_percent=100;break}this.changePayedPercent()},hasRoles(n){let o=!1;return typeof n=="object"?this.$page.props.auth.roles.forEach(_=>{o=o||n.includes(_)}):this.$page.props.auth.roles.includes(n),o},changeCurrentPayed(){this.clientForm.payed_percent=Math.round(this.clientForm.current_payed/this.cartTotalPrice*100)},changePayedPercent(){this.clientForm.current_payed=Math.round(this.cartTotalPrice*this.clientForm.payed_percent/100),this.changeDiscount()},selectDeliveryVariant(n){var t;this.clientForm.info=n.title,this.clientForm.delivery_service=n.title,this.clientForm.delivery_price=((t=n.price)==null?void 0:t.retail)||0;const o=n.title,_=/г\.\s*([А-Яа-яЁё\- ]+)/,F=o.match(_);F&&(this.clientForm.delivery_city=F[1].trim())},findPromo(){this.discount=0,!((this.clientForm.promo||"").length<=5)&&this.$store.dispatch("findPromoCode",{code:this.clientForm.promo}).then(n=>{this.discount=n.discount||0})}}},N={class:"font-bold d-flex justify-content-between align-items-center mb-2"},J={key:0},L={key:0,class:"fa-regular fa-square-plus"},G={key:1,class:"fa-regular fa-square-minus"},K={class:"form-check form-switch my-2"},A={class:"form-check-label",for:"need_promo_switcher"},H={key:0,class:"form-floating mb-2"},Q=e("label",{for:"checkout-promo"},"Скидка, %",-1),W={key:1,class:"form-floating mb-2"},X=e("label",{for:"checkout-promo"},"Промокод",-1),Y={key:1},Z=e("p",null,[e("small",null,"Начальная внесенная покупателем сумма")],-1),$={class:"form-floating mb-2"},ee=e("label",{for:"checkout-name"},"Начальная сумма, руб",-1),te=e("p",null,[e("small",null,"Процент внесенной суммы от полной стоимости")],-1),oe={class:"my-2"},le={class:"form-floating mb-2"},ie=e("label",{for:"checkout-name"},"%",-1),se={class:"mb-2 fw-bold d-flex justify-content-between align-items-center"},ne={key:0,class:"fa-regular fa-square-plus"},re={key:1,class:"fa-regular fa-square-minus"},ce={class:"form-check form-switch"},de=e("label",{class:"form-check-label",for:"flexSwitchCheckDefault"},"Указать кол-во рабочих дней / Выбрать конкретную дату",-1),ae={key:0,class:"form-floating mb-2"},pe=e("label",{for:"checkout-name"},"Кол-во рабочих дней",-1),me={key:1,class:"form-floating mb-2"},ue=e("label",{for:"checkout-name"},"Срок передачи товара покупателю",-1),_e={class:"mb-2 fw-bold d-flex justify-content-between align-items-center"},he={key:0,class:"fa-regular fa-square-plus"},fe={key:1,class:"fa-regular fa-square-minus"},ye={class:"my-2"},be=e("h6",{class:"mb-2 fw-bold"},"Информация по доставке",-1),ke={class:"form-floating mb-2"},ve=e("label",{for:"delivery-price"},"Сумма за доставку",-1),ge={class:"input-group mb-2"},Fe={class:"form-floating"},xe=e("label",{for:"delivery-city"},"Город доставки",-1),we={class:"input-group-text rounded-0 border-secondary"},Ve={class:"dropdown"},Pe=e("button",{class:"btn btn-light",type:"button",id:"dropdownMenuButton","data-bs-toggle":"dropdown","aria-expanded":"false"},[e("i",{class:"fa-solid fa-map-location-dot"})],-1),Ce={class:"dropdown-menu",style:{"max-height":"200px","overflow-y":"scroll"},"aria-labelledby":"dropdownMenuButton"},Ue=["onClick"],De={class:"dropdown-item",href:"#"},Te={class:"form-floating mb-2"},je=e("label",{for:"delivery-address"},"Адрес доставки",-1),ze={key:0,class:"alert alert-light rounded-0 border-black"},qe=e("i",{class:"fa-solid fa-xmark"},null,-1),Ie=e("p",{class:"mb-2"},"Подъем на этаж",-1),Se={class:"my-2"},Me={class:"mb-2 fw-bold d-flex justify-content-between align-items-center"},Ee={key:0,class:"fa-regular fa-square-plus"},Oe={key:1,class:"fa-regular fa-square-minus"},Re={key:3,class:"my-2"},Be={class:"form-floating mb-2"},Ne=e("label",{for:"installation-count"},"Дверей к установке",-1),Je=e("p",{style:{"font-size":"10px"}},"Производить расчет цены",-1),Le={class:"form-floating my-2"},Ge={for:"installation-price"},Ke={key:0},Ae={key:1},He={class:"mb-2 fw-bold d-flex justify-content-between align-items-center"},Qe={key:0,class:"fa-regular fa-square-plus"},We={key:1,class:"fa-regular fa-square-minus"},Xe={class:"my-2 d-flex justify-content-between align-items-center"},Ye={key:0},Ze={key:1},$e={class:"form-floating mb-2"},et={for:"installation-count"},tt={key:0},ot={key:1},lt={key:0},it={class:"form-floating mb-2"},st=e("label",{for:"dealer-percent"},"Процент дилера, %",-1),nt={class:"form-check form-switch"},rt=e("label",{class:"form-check-label",for:"send_to_bitix"},"Отправить в Битрикс",-1),ct={class:"form-check form-switch"},dt=e("label",{class:"form-check-label",for:"send_to_mail"},"Отправить на почту клиента",-1),at={class:"form-check form-switch"},pt=e("label",{class:"form-check-label",for:"send_to_telegram"},"Отправить в телеграм",-1),mt={class:"form-check form-switch mb-2"},ut=e("label",{class:"form-check-label",for:"send_to_self_mail"},"Отправить себе на почту",-1),_t={key:7,class:"form-floating mb-2"},ht=e("label",{for:"self_email_address"},"Почта",-1),ft={key:8,class:"alert alert-light rounded-0 mb-2"},yt=e("strong",{class:"fw-bold"},"Внимание!",-1),bt={class:"btn-group w-100 mb-2"},kt=["disabled"],vt=e("button",{type:"button",class:"btn btn-outline-dark rounded-0 dropdown-toggle dropdown-toggle-split","data-bs-toggle":"dropdown","aria-expanded":"false"},[e("i",{class:"fa-solid fa-hand-holding-dollar"})],-1),gt={class:"dropdown-menu rounded-0"},Ft=["onClick"],xt=["disabled"];function wt(n,o,_,F,t,f){return t.clientForm?(r(),c(k,{key:0},[e("h6",N,[e("span",null,[v(" Итого цена "+w(Math.round(n.cartTotalPrice*(1-t.discount/100)))+" ₽ ",1),t.discount>0?(r(),c("span",J,"(скидка "+w(t.discount)+"%)",1)):h("",!0)]),e("span",{onClick:o[0]||(o[0]=l=>t.blocks.price=!t.blocks.price)},[t.blocks.price?(r(),c("i",G)):(r(),c("i",L))])]),t.blocks.price?(r(),c(k,{key:0},[e("div",K,[e("label",A,[e("span",{class:b({"fw-bold":!t.need_promo})},"скидка",2),v(" \\ "),e("span",{class:b({"fw-bold":t.need_promo})},"промокод",2)]),p(e("input",{"onUpdate:modelValue":o[1]||(o[1]=l=>t.need_promo=l),class:"form-check-input",type:"checkbox",role:"switch",id:"need_promo_switcher"},null,512),[[V,t.need_promo]])]),t.need_promo?h("",!0):(r(),c("div",H,[p(e("input",{type:"text",class:"form-control","onUpdate:modelValue":o[2]||(o[2]=l=>t.discount=l),id:"checkout-promo",placeholder:"name@example.com"},null,512),[[y,t.discount]]),Q])),t.need_promo?(r(),c("div",W,[p(e("input",{type:"text",class:"form-control",onKeyup:o[3]||(o[3]=(...l)=>f.findPromo&&f.findPromo(...l)),"onUpdate:modelValue":o[4]||(o[4]=l=>t.clientForm.promo=l),id:"checkout-promo",placeholder:"name@example.com"},null,544),[[y,t.clientForm.promo]]),X])):h("",!0)],64)):h("",!0),f.hasRoles(["manager","administrator"])?(r(),c("div",Y,[t.blocks.price?(r(),c(k,{key:0},[Z,e("div",$,[p(e("input",{type:"text",class:"form-control",onChange:o[5]||(o[5]=(...l)=>f.changeCurrentPayed&&f.changeCurrentPayed(...l)),"onUpdate:modelValue":o[6]||(o[6]=l=>t.clientForm.current_payed=l),id:"checkout-name",placeholder:"",required:""},null,544),[[y,t.clientForm.current_payed]]),ee]),te,e("p",oe,[e("span",{onClick:o[7]||(o[7]=l=>f.selectPayedPercentType(0)),class:b([{"btn-dark text-white":t.clientForm.payed_percent_type===0},"btn btn-outline-secondary text-black rounded-0 mr-2"]),style:{"font-size":"10px"}},"50\\50",2),e("span",{onClick:o[8]||(o[8]=l=>f.selectPayedPercentType(1)),class:b([{"btn-dark text-white":t.clientForm.payed_percent_type===1},"btn btn-outline-secondary text-black rounded-0 mr-2"]),style:{"font-size":"10px"}},"70\\30",2),e("span",{onClick:o[9]||(o[9]=l=>f.selectPayedPercentType(2)),class:b([{"btn-dark text-white":t.clientForm.payed_percent_type===2},"btn btn-outline-secondary text-black rounded-0 mr-2"]),style:{"font-size":"10px"}},"100% предоплата",2)]),e("div",le,[p(e("input",{type:"text",class:"form-control",onChange:o[10]||(o[10]=(...l)=>f.changePayedPercent&&f.changePayedPercent(...l)),"onUpdate:modelValue":o[11]||(o[11]=l=>t.clientForm.payed_percent=l),id:"checkout-name",placeholder:"name@example.com",required:""},null,544),[[y,t.clientForm.payed_percent]]),ie])],64)):h("",!0),e("h6",se,[v("Срок изготовления "),e("span",{onClick:o[12]||(o[12]=l=>t.blocks.develop=!t.blocks.develop)},[t.blocks.develop?(r(),c("i",re)):(r(),c("i",ne))])]),t.blocks.develop?(r(),c(k,{key:1},[e("div",ce,[p(e("input",{onClick:o[13]||(o[13]=l=>t.flgDays=!t.flgDays),"onUpdate:modelValue":o[14]||(o[14]=l=>t.flgDays=l),class:"form-check-input",type:"checkbox",role:"switch",id:""},null,512),[[V,t.flgDays]]),de]),t.flgDays?(r(),c("div",ae,[p(e("input",{type:"text",class:"form-control","onUpdate:modelValue":o[15]||(o[15]=l=>t.clientForm.work_days=l),id:"checkout-name",placeholder:"name@example.com",required:""},null,512),[[y,t.clientForm.work_days]]),pe])):(r(),c("div",me,[p(e("input",{type:"date",class:"form-control","onUpdate:modelValue":o[16]||(o[16]=l=>t.clientForm.delivery_terms=l),id:"checkout-name",placeholder:"name@example.com",required:""},null,512),[[y,t.clientForm.delivery_terms]]),ue]))],64)):h("",!0),e("h6",_e,[v("Доставка "),e("span",{onClick:o[17]||(o[17]=l=>t.blocks.delivery=!t.blocks.delivery)},[t.blocks.delivery?(r(),c("i",fe)):(r(),c("i",he))])]),t.blocks.delivery?(r(),c(k,{key:2},[e("div",ye,[e("button",{type:"button",onClick:o[18]||(o[18]=l=>t.clientForm.delivery_type=0),class:b([{"btn-dark text-white":t.clientForm.delivery_type===0},"btn btn-outline-secondary text-black rounded-0 mr-2 mb-2"])},"Доставка до адреса ",2),e("button",{type:"button",onClick:o[19]||(o[19]=l=>t.clientForm.delivery_type=1),class:b([{"btn-dark text-white":t.clientForm.delivery_type===1},"btn btn-outline-secondary text-black rounded-0 mr-2 mb-2"])},"Самовывоз ",2),e("button",{type:"button",onClick:o[20]||(o[20]=l=>t.clientForm.delivery_type=2),class:b([{"btn-dark text-white":t.clientForm.delivery_type===2},"btn btn-outline-secondary text-black rounded-0 mr-2 mb-2"])},"ТК ",2),e("button",{type:"button",onClick:o[21]||(o[21]=l=>t.clientForm.delivery_type=3),class:b([{"btn-dark text-white":t.clientForm.delivery_type===3},"btn btn-outline-secondary text-black rounded-0 mr-2 mb-2"])},"Доставка до проходной ",2)]),t.clientForm.delivery_type===0?(r(),c(k,{key:0},[be,e("div",ke,[p(e("input",{type:"number",min:"0",class:"form-control","onUpdate:modelValue":o[22]||(o[22]=l=>t.clientForm.delivery_price=l),id:"delivery-price",placeholder:"name@example.com",required:""},null,512),[[y,t.clientForm.delivery_price]]),ve]),e("div",ge,[e("div",Fe,[p(e("input",{type:"text",class:"form-control","onUpdate:modelValue":o[23]||(o[23]=l=>t.clientForm.delivery_city=l),id:"delivery-city",placeholder:"name@example.com"},null,512),[[y,t.clientForm.delivery_city]]),xe]),e("span",we,[e("div",Ve,[Pe,e("ul",Ce,[(r(!0),c(k,null,M(t.delivery_services,l=>(r(),c("li",{onClick:d=>f.selectDeliveryVariant(l)},[e("a",De,w(l.title||"-"),1)],8,Ue))),256))])])])]),e("div",Te,[p(e("input",{type:"text",class:"form-control","onUpdate:modelValue":o[24]||(o[24]=l=>t.clientForm.delivery_address=l),id:"delivery-address",placeholder:"name@example.com"},null,512),[[y,t.clientForm.delivery_address]]),je]),t.clientForm.delivery_service?(r(),c("p",ze,[e("span",null,w(t.clientForm.delivery_service),1),e("a",{href:"javascript:void(0)",class:"d-block p-0 m-0 text-danger",style:{"font-size":"10px"},onClick:o[25]||(o[25]=l=>t.clientForm.delivery_service=null)},[qe,v(" убрать сервис")])])):h("",!0),Ie,e("div",Se,[e("button",{type:"button",onClick:o[26]||(o[26]=l=>t.clientForm.ascent_floor=!0),class:b([{"btn-dark text-white":t.clientForm.ascent_floor===!0},"btn btn-outline-secondary text-black rounded-0 mr-2"])},"Нужен ",2),e("button",{type:"button",onClick:o[27]||(o[27]=l=>t.clientForm.ascent_floor=!1),class:b([{"btn-dark text-white":t.clientForm.ascent_floor===!1},"btn btn-outline-secondary text-black rounded-0 mr-2"])},"Не нужен ",2)])],64)):h("",!0)],64)):h("",!0),e("h6",Me,[v("Установка "),e("span",{onClick:o[28]||(o[28]=l=>t.blocks.install=!t.blocks.install)},[t.blocks.install?(r(),c("i",Oe)):(r(),c("i",Ee))])]),t.blocks.install?(r(),c("div",Re,[e("button",{type:"button",onClick:o[29]||(o[29]=l=>t.clientForm.installation.need_door_install=!0),class:b([{"btn-dark text-white":t.clientForm.installation.need_door_install===!0},"btn btn-outline-secondary text-black rounded-0 mr-2"])},"Нужна ",2),e("button",{type:"button",onClick:o[30]||(o[30]=l=>t.clientForm.installation.need_door_install=!1),class:b([{"btn-dark text-white":t.clientForm.installation.need_door_install===!1},"btn btn-outline-secondary text-black rounded-0 mr-2"])},"Не нужна ",2)])):h("",!0),t.clientForm.installation.need_door_install?(r(),c(k,{key:4},[e("div",Be,[p(e("input",{type:"number",class:"form-control","onUpdate:modelValue":o[31]||(o[31]=l=>t.clientForm.installation.count=l),id:"installation-count",placeholder:"name@example.com"},null,512),[[y,t.clientForm.installation.count]]),Ne]),Je,e("button",{type:"button",onClick:o[32]||(o[32]=l=>t.clientForm.installation.recount_type=0),style:{"font-size":"10px"},class:b([{"btn-dark text-white":t.clientForm.installation.recount_type===0},"btn btn-outline-secondary text-black rounded-0 mr-2"])},"Суммарно ",2),e("button",{type:"button",style:{"font-size":"10px"},onClick:o[33]||(o[33]=l=>t.clientForm.installation.recount_type=1),class:b([{"btn-dark text-white":t.clientForm.installation.recount_type===1},"btn btn-outline-secondary text-black rounded-0 mr-2"])},"За единицу ",2),e("div",Le,[p(e("input",{type:"number",class:"form-control","onUpdate:modelValue":o[34]||(o[34]=l=>t.clientForm.installation.price=l),id:"installation-price",placeholder:"name@example.com"},null,512),[[y,t.clientForm.installation.price]]),e("label",Ge,[v("Цена за установку, руб "),t.clientForm.installation.recount_type===1?(r(),c("span",Ke,"(за единицу)")):h("",!0),t.clientForm.installation.recount_type===0?(r(),c("span",Ae,"(суммарно)")):h("",!0)])])],64)):h("",!0),e("h6",He,[v("Работа дизайнера "),e("span",{onClick:o[35]||(o[35]=l=>t.blocks.designer=!t.blocks.designer)},[t.blocks.designer?(r(),c("i",We)):(r(),c("i",Qe))])]),t.blocks.designer?(r(),c(k,{key:5},[e("div",Xe,[e("div",null,[e("button",{type:"button",onClick:o[36]||(o[36]=l=>t.clientForm.designer.is_fix=!0),class:b([{"btn-dark text-white":t.clientForm.designer.is_fix===!0},"btn btn-outline-secondary text-black rounded-0 mr-2"])},"Фикс ",2),e("button",{type:"button",onClick:o[37]||(o[37]=l=>t.clientForm.designer.is_fix=!1),class:b([{"btn-dark text-white":t.clientForm.designer.is_fix===!1},"btn btn-outline-secondary text-black rounded-0 mr-2"])},"Процент ",2)]),t.clientForm.designer.is_fix?h("",!0):(r(),c("span",Ye,w(f.designerPrice)+" руб",1)),t.clientForm.designer.is_fix?(r(),c("span",Ze,w(t.clientForm.designer.value)+" руб",1)):h("",!0)]),e("div",$e,[p(e("input",{type:"number",class:"form-control","onUpdate:modelValue":o[38]||(o[38]=l=>t.clientForm.designer.value=l),id:"designer-value",placeholder:"name@example.com"},null,512),[[y,t.clientForm.designer.value]]),e("label",et,[t.clientForm.designer.is_fix?(r(),c("span",tt,"Фиксированная оплата, руб")):h("",!0),t.clientForm.designer.is_fix?h("",!0):(r(),c("span",ot,"Процент за работу, %"))])])],64)):h("",!0),R(n.$slots,"loader"),t.clientForm.summary_price_type?(r(),c(k,{key:6},[t.clientForm.summary_price_type.id===3?(r(),c("div",lt,[e("div",it,[p(e("input",{type:"number",min:"0",max:"100","onUpdate:modelValue":o[39]||(o[39]=l=>t.clientForm.dealer_percent=l),class:"form-control text-left",id:"dealer-percent",required:""},null,512),[[y,t.clientForm.dealer_percent]]),st])])):h("",!0)],64)):h("",!0),e("div",nt,[p(e("input",{"onUpdate:modelValue":o[40]||(o[40]=l=>_.modelValue.send_to_bitix=l),class:"form-check-input",type:"checkbox",role:"switch",id:"send_to_bitix"},null,512),[[V,_.modelValue.send_to_bitix]]),rt]),e("div",ct,[p(e("input",{class:"form-check-input","onUpdate:modelValue":o[41]||(o[41]=l=>_.modelValue.send_to_mail=l),type:"checkbox",role:"switch",id:"send_to_mail"},null,512),[[V,_.modelValue.send_to_mail]]),dt]),e("div",at,[p(e("input",{class:"form-check-input","onUpdate:modelValue":o[42]||(o[42]=l=>_.modelValue.send_to_telegram=l),type:"checkbox",role:"switch",id:"send_to_telegram"},null,512),[[V,_.modelValue.send_to_telegram]]),pt]),e("div",mt,[p(e("input",{class:"form-check-input","onUpdate:modelValue":o[43]||(o[43]=l=>_.modelValue.send_to_self_mail=l),type:"checkbox",role:"switch",id:"send_to_self_mail"},null,512),[[V,_.modelValue.send_to_self_mail]]),ut]),_.modelValue.send_to_self_mail?(r(),c("div",_t,[p(e("input",{type:"email","onUpdate:modelValue":o[44]||(o[44]=l=>_.modelValue.self_email=l),class:"form-control",id:"self_email_address",placeholder:"name@example.com",required:""},null,512),[[y,_.modelValue.self_email]]),ht])):h("",!0),t.blocks.price_type_attention?(r(),c("p",ft,[yt,v(" При смене типа цены будет проведен перерасчет всех цен на двери и изменены значения начальной внесенной суммы для покупателя "),e("a",{onClick:o[45]||(o[45]=l=>t.blocks.price_type_attention=!1),style:{"font-size":"10px"},class:"d-block text-danger",href:"javascript:void(0)"},"Скрыть и больше не показывать")])):h("",!0),e("div",bt,[e("button",{type:"submit",disabled:_.disabled,class:"btn btn-dark rounded-0 p-3"},"Отправить ",8,kt),vt,e("ul",gt,[(r(!0),c(k,null,M(n.getDictionary.price_type_variants,l=>(r(),c("li",null,[e("a",{onClick:d=>f.selectPriceType(l),class:b(["dropdown-item",{"bg-dark text-white":t.clientForm.summary_price_type.title===l.title}]),href:"javascript:void(0)"},w(l.title||"-"),11,Ft)]))),256))])])])):(r(),c("button",{key:2,disabled:_.disabled,class:"btn btn-dark w-100 my-2 rounded-0 p-3"},"Отправить ",8,xt))],64)):h("",!0)}const so=T(B,[["render",wt]]),Vt={props:["modelValue"],data(){return{clientForm:null}},watch:{clientForm:{handler(n){this.$emit("update:modelValue",this.clientForm)},deep:!0}},mounted(){this.clientForm=this.modelValue}},Pt={class:"form-floating mb-2"},Ct=e("label",{for:"checkout-phone"},"Номер телефона",-1),Ut={class:"form-floating mb-2"},Dt=e("label",{for:"checkout-email"},"Электронная почта",-1),Tt={class:"form-floating"},jt=e("label",{for:"checkout-info"},"Дополнительная информация",-1),zt={class:"row my-2"},qt={class:"col-md-4"},It={class:"form-check"},St=e("label",{class:"form-check-label",for:"work-with-nds"}," С НДС ",-1),Mt={class:"col-md-4"},Et={class:"form-check"},Ot=e("label",{class:"form-check-label",for:"work-without-nds"}," Без НДС ",-1),Rt={class:"col-md-4"},Bt={class:"form-check"},Nt=e("label",{class:"form-check-label",for:"work-without-nds"}," Физ-лицо ",-1);function Jt(n,o,_,F,t,f){const l=E("mask");return t.clientForm?(r(),c(k,{key:0},[e("div",Pt,[p(e("input",{type:"text",class:"form-control","onUpdate:modelValue":o[0]||(o[0]=d=>t.clientForm.phone=d),id:"checkout-phone",placeholder:"name@example.com",required:""},null,512),[[l,"+7(###)###-##-##"],[y,t.clientForm.phone]]),Ct]),e("div",Ut,[p(e("input",{type:"email",class:"form-control","onUpdate:modelValue":o[1]||(o[1]=d=>t.clientForm.email=d),id:"checkout-email",placeholder:"name@example.com"},null,512),[[y,t.clientForm.email]]),Dt]),e("div",Tt,[p(e("textarea",{class:"form-control border-secondary rounded-0","onUpdate:modelValue":o[2]||(o[2]=d=>t.clientForm.info=d),placeholder:"Оставьте свой комментарий",id:"checkout-info"},null,512),[[y,t.clientForm.info]]),jt]),e("div",zt,[e("div",qt,[e("div",It,[p(e("input",{class:"form-check-input",type:"radio",value:"1","onUpdate:modelValue":o[3]||(o[3]=d=>t.clientForm.work_with_nds=d),name:"flexRadioDefault",id:"work-with-nds"},null,512),[[D,t.clientForm.work_with_nds]]),St])]),e("div",Mt,[e("div",Et,[p(e("input",{class:"form-check-input",type:"radio",value:"0",name:"flexRadioDefault","onUpdate:modelValue":o[4]||(o[4]=d=>t.clientForm.work_with_nds=d),id:"work-without-nds"},null,512),[[D,t.clientForm.work_with_nds]]),Ot])]),e("div",Rt,[e("div",Bt,[p(e("input",{class:"form-check-input",type:"radio",value:"2",name:"flexRadioDefault","onUpdate:modelValue":o[5]||(o[5]=d=>t.clientForm.work_with_nds=d),id:"work-without-nds"},null,512),[[D,t.clientForm.work_with_nds]]),Nt])])])],64)):h("",!0)}const no=T(Vt,[["render",Jt]]),Lt={props:["modelValue"],data(){return{clientForm:null}},watch:{clientForm:{handler(n){this.$emit("update:modelValue",this.clientForm)},deep:!0}},mounted(){this.clientForm=this.modelValue}},Gt={class:"form-floating mb-2"},Kt=e("label",{for:"checkout-phone"},"Номер телефона",-1),At={class:"form-floating mb-2"},Ht=e("label",{for:"checkout-email"},"Электронная почта",-1),Qt={class:"form-floating mb-2"},Wt=e("label",{for:"checkout-email"},"Паспорт",-1),Xt={class:"form-floating mb-2"},Yt=e("label",{for:"checkout-email"},"Выдан",-1),Zt={class:"form-floating mb-2"},$t=e("label",{for:"checkout-email"},"Адрес доставки",-1),eo={class:"form-floating mb-2"},to=e("label",{for:"checkout-email"},"Дополнительная информация",-1);function oo(n,o,_,F,t,f){const l=E("mask");return t.clientForm?(r(),c(k,{key:0},[e("div",Gt,[p(e("input",{type:"text",class:"form-control","onUpdate:modelValue":o[0]||(o[0]=d=>t.clientForm.phone=d),id:"checkout-phone",placeholder:"name@example.com",required:""},null,512),[[l,"+7(###)###-##-##"],[y,t.clientForm.phone]]),Kt]),e("div",At,[p(e("input",{type:"email",class:"form-control","onUpdate:modelValue":o[1]||(o[1]=d=>t.clientForm.email=d),id:"checkout-email",placeholder:"name@example.com"},null,512),[[y,t.clientForm.email]]),Ht]),e("div",Qt,[p(e("input",{type:"text",class:"form-control","onUpdate:modelValue":o[2]||(o[2]=d=>t.clientForm.passport=d),id:"checkout-email",placeholder:"name@example.com"},null,512),[[l,"## ##  ######"],[y,t.clientForm.passport]]),Wt]),e("div",Xt,[p(e("input",{type:"text",class:"form-control","onUpdate:modelValue":o[3]||(o[3]=d=>t.clientForm.passport_issued=d),id:"checkout-email",placeholder:"name@example.com"},null,512),[[y,t.clientForm.passport_issued]]),Yt]),e("div",Zt,[p(e("input",{type:"text",class:"form-control","onUpdate:modelValue":o[4]||(o[4]=d=>t.clientForm.delivery_address=d),id:"checkout-email",placeholder:"name@example.com",required:""},null,512),[[y,t.clientForm.delivery_address]]),$t]),e("div",eo,[p(e("input",{type:"text",class:"form-control","onUpdate:modelValue":o[5]||(o[5]=d=>t.clientForm.info=d),id:"checkout-email",placeholder:"name@example.com"},null,512),[[y,t.clientForm.info]]),to])],64)):h("",!0)}const ro=T(Lt,[["render",oo]]);export{so as C,ro as I,no as L};
