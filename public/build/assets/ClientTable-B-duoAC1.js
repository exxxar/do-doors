import{m as k,k as $,o as e,c as l,b as s,e as a,g as u,i as g,F as f,r as p,v as m,t as _,f as c,j as v,a as y,h as q,d as b}from"./app-B4yY0rsq.js";import{P as w}from"./Pagination-BAaaWYtR.js";import{_ as C}from"./UserTable-DZelZWIT.js";import{v as U}from"./vue-the-mask-B1ddjmsw.js";const V={key:0,class:"row mb-3"},L={class:"col-md-6 col-12"},D={class:"row"},M={class:"col-md-6 col-12"},I={class:"form-floating"},j=s("option",{value:null},"Не выбрано",-1),A=["value"],B=s("label",{for:"status"},"Тип контрагента",-1),S={class:"col-md-6 col-12"},F={class:"form-floating mb-3"},T=s("label",{for:"client-title"},"Наименование компании",-1),O={class:"col-md-6 col-12"},R={class:"form-floating mb-3"},E=s("label",{for:"fio"},"ФИО представителя компании",-1),P={class:"col-6"},N={class:"form-floating mb-3"},G={class:"form-floating"},J=s("label",{for:"law_address"},"Юридический адрес",-1),z={class:"col-md-6 col-12"},H={class:"form-floating mb-3"},K=s("label",{for:"client-email"},"Электронная почта",-1),Q={class:"col-md-6 col-12"},W={class:"form-floating mb-3"},X=s("label",{for:"client-phone"},"Телефон",-1),Y={class:"col-md-12 col-12"},Z={class:"form-floating mb-3"},x={class:"form-floating"},ss=s("label",{for:"comment"},"Комментарий",-1),ts={class:"col-md-6 col-12 mb-3"},os={class:"input-group"},es={class:"form-floating"},ls=s("label",{for:"client-inn"},"ИНН",-1),ns=["disabled"],is=s("i",{class:"fa-solid fa-magnifying-glass"},null,-1),ds=[is],rs=["href"],as={class:"col-md-6 col-12"},cs={class:"form-floating mb-3"},us=s("label",{for:"client-kpp"},"КПП",-1),ms={class:"col-md-6 col-12"},hs={class:"form-floating mb-3"},_s=s("label",{for:"client-ogrn"},"ОГРН",-1),fs={class:"col-md-6 col-12"},ps={class:"form-floating mb-3"},bs=s("label",{for:"client-okpo"},"ОКПО",-1),ks={class:"col-md-6 col-12 mb-3"},$s={class:"input-group"},gs={key:0,class:"form-control rounded-0 border-secondary"},vs={key:1,class:"form-control rounded-0 border-secondary"},ys=s("label",{for:"client-user_id"},"Пользователь",-1),qs=s("i",{class:"fa-solid fa-ban"},null,-1),ws=[qs],Cs={class:"row"},Us={class:"col-12 my-2"},Vs=s("i",{class:"fa-solid fa-plus mr-1"},null,-1),Ls={class:"col-md-6 col-12 mb-3"},Ds={class:"card rounded-0 border-secondary"},Ms={class:"card-header d-flex justify-between align-items-center border-secondary"},Is={class:"form-check form-switch"},js=["onChange","onUpdate:modelValue","id"],As=["for"],Bs=["onClick"],Ss=s("i",{class:"fa-solid fa-xmark mr-2"},null,-1),Fs={class:"card-body"},Ts={class:"row"},Os={class:"col-md-6 col-12"},Rs={class:"input-group mb-3"},Es={class:"form-floating"},Ps=["onUpdate:modelValue","id"],Ns=["for"],Gs=["disabled","onClick"],Js=s("i",{class:"fa-solid fa-magnifying-glass"},null,-1),zs=[Js],Hs={class:"col-md-6 col-12"},Ks={class:"form-floating mb-3"},Qs=["onUpdate:modelValue","id"],Ws=["for"],Xs={class:"col-md-12 col-12"},Ys={class:"form-floating mb-3"},Zs=["onUpdate:modelValue","id"],xs=["for"],st={class:"col-md-6 col-12"},tt={class:"form-floating mb-3"},ot=["onUpdate:modelValue","id"],et=["for"],lt={class:"col-md-6 col-12"},nt={class:"form-floating"},it=["onUpdate:modelValue","id"],dt=["for"],rt={class:"row"},at={class:"col-12"},ct={class:"alert alert-danger alert-dismissible fade show",role:"alert"},ut=s("strong",null,"Внимание!",-1),mt=["onClick"],ht={class:"row mt-5"},_t={class:"col-12 d-flex justify-content-center"},ft={class:"btn btn-dark rounded-0"},pt={key:0,class:"fa-regular fa-floppy-disk mr-1"},bt={key:1,class:"spinner-border spinner-border-sm text-success",role:"status"},kt=s("i",{class:"fa-solid fa-xmark mr-1"},null,-1),$t={class:"modal fade",id:"search-users",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},gt={class:"modal-dialog modal-lg"},vt={class:"modal-content rounded-0 border-secondary"},yt=s("div",{class:"modal-header"},[s("h1",{class:"modal-title fs-5",id:"exampleModalLabel"},"Поиск пользователя"),s("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),qt={class:"modal-body 0"},wt=s("div",{class:"modal-footer"},[s("button",{type:"button",class:"btn btn-outline-secondary rounded-0 border-secondary","data-bs-dismiss":"modal"},"Закрыть ")],-1),Ct={components:{},directives:{mask:U.mask},props:["item","editing"],data(){return{messages:[],userSearchModal:null,loading:!1,link_for_document:null,statuses:[],form:{id:null,status:null,phone:null,email:null,fact_address:null,comment:null,user:null,user_id:null,title:null,fio:null,law_address:null,inn:null,kpp:null,ogrn:null,okpo:null,requisites:[]}}},computed:{...k(["getDictionary"])},mounted(){this.statuses=this.getDictionary.statuses||[],this.userSearchModal=new bootstrap.Modal(document.getElementById("search-users"),{}),this.item&&this.$nextTick(()=>{this.form={id:this.item.id||null,status:this.item.status||null,phone:this.item.phone||null,email:this.item.email||null,fact_address:this.item.fact_address||null,comment:this.item.comment||null,user_id:this.item.user_id||null,user:this.item.user||null,title:this.item.title||null,fio:this.item.fio||null,law_address:this.item.law_address||null,inn:this.item.inn||null,kpp:this.item.kpp||null,ogrn:this.item.ogrn||null,okpo:this.item.okpo||null,requisites:this.item.requisites||[]}})},methods:{openUserSearchModal(){this.userSearchModal.show()},requestByBik(n){this.$notify({title:"DoDoors",text:"Ищем по БИК..."}),this.$store.dispatch("requestByBik",{bik:this.form.requisites[n].bik}).then(t=>{this.form.requisites[n].bank=(t.name||"").replaceAll("&quot;","'"),this.form.requisites[n].address=t.address?(t.index||"")+", "+(t.city||"")+", "+(t.address||""):null,this.form.requisites[n].correspondent_account=t.ks||null,this.$notify({title:"DoDoors",text:"Отлично! Данные найдены",type:"success"})}).catch(t=>{this.$notify({title:"DoDoors",text:"Данные не найдено",type:"error"})})},requestByInn(){this.link_for_document=null,this.$notify({title:"DoDoors",text:"Ищем по ИНН..."}),this.$store.dispatch("requestByInn",{inn:this.form.inn}).then(n=>{this.form.title=n[0].c||null,this.form.kpp=n[0].p||null,this.form.ogrn=n[0].o||null;let t=new Date;this.link_for_document=(n[0].t||null)+`?r=${t.getTime()}&_=${t.getTime()}`,this.$notify({title:"DoDoors",text:"Отлично! Данные найдены",type:"success"})}).catch(n=>{this.$notify({title:"DoDoors",text:"Данные не найдено",type:"error"})})},changeRequisitesMain(n){this.form.requisites.forEach(t=>t.is_main=!1),this.form.requisites[n].is_main=!0},alert(n){this.messages.push(n)},removeRequisite(n){this.form.requisites.splice(n,1)},addRequisites(){this.form.requisites.push({bik:null,bank:null,address:null,correspondent_account:null,checking_account:null,is_main:!1})},selectUserId(n){this.form.user_id=n.id,this.form.user=n,this.userSearchModal.hide()},resetForm(){const n={id:null,status:null,phone:null,email:null,fact_address:null,comment:null,user_id:null,title:null,fio:null,law_address:null,inn:null,kpp:null,ogrn:null,okpo:null,requisites:[]};this.form=n,this.$emit("callback")},removeMessage(n){this.messages.splice(n,1)},submit(){let n=new FormData;Object.keys(this.form).forEach(t=>{const o=this.form[t]||"";typeof o=="object"?n.append(t,JSON.stringify(o)):n.append(t,o)}),this.$store.dispatch("storeClient",{clientForm:n}).then(t=>{this.$emit("callback"),this.resetForm()}).catch(t=>{})}}},Ut=Object.assign(Ct,{__name:"ClientForm",setup(n){return(t,o)=>{const d=$("mask");return e(),l(f,null,[n.editing?a("",!0):(e(),l("div",V,[s("div",L,[s("button",{type:"button",class:"btn btn-dark rounded-0",onClick:o[0]||(o[0]=(...i)=>t.resetForm&&t.resetForm(...i))},"Очистить форму ")])])),s("form",{action:"",onSubmit:o[17]||(o[17]=v((...i)=>t.submit&&t.submit(...i),["prevent"]))},[s("div",D,[s("div",M,[s("div",I,[u(s("select",{class:"form-select","onUpdate:modelValue":o[1]||(o[1]=i=>t.form.status=i),id:"status","aria-label":"Floating label select example"},[j,(e(!0),l(f,null,p(t.statuses,i=>(e(),l("option",{value:i.value},_(i.title||"Не указано"),9,A))),256))],512),[[g,t.form.status]]),B])]),s("div",S,[s("div",F,[u(s("input",{type:"text","onUpdate:modelValue":o[2]||(o[2]=i=>t.form.title=i),class:"form-control",id:"client-title",required:""},null,512),[[m,t.form.title]]),T])]),s("div",O,[s("div",R,[u(s("input",{type:"text","onUpdate:modelValue":o[3]||(o[3]=i=>t.form.fio=i),class:"form-control",id:"client-title"},null,512),[[m,t.form.fio]]),E])]),s("div",P,[s("div",N,[s("div",G,[u(s("textarea",{class:"form-control rounded-0 border-secondary","onUpdate:modelValue":o[4]||(o[4]=i=>t.form.law_address=i),placeholder:"Leave a comment here",id:"law_address"},null,512),[[m,t.form.law_address]]),J])])]),s("div",z,[s("div",H,[u(s("input",{type:"email","onUpdate:modelValue":o[5]||(o[5]=i=>t.form.email=i),class:"form-control",id:"client-email"},null,512),[[m,t.form.email]]),K])]),s("div",Q,[s("div",W,[u(s("input",{type:"text","onUpdate:modelValue":o[6]||(o[6]=i=>t.form.phone=i),class:"form-control",id:"client-phone"},null,512),[[m,t.form.phone],[d,"+7(###)###-##-##"]]),X])]),s("div",Y,[s("div",Z,[s("div",x,[u(s("textarea",{class:"form-control rounded-0 border-secondary","onUpdate:modelValue":o[7]||(o[7]=i=>t.form.comment=i),placeholder:"Leave a comment here",id:"comment"},null,512),[[m,t.form.comment]]),ss])])]),s("div",ts,[s("div",os,[s("div",es,[u(s("input",{type:"text","onUpdate:modelValue":o[8]||(o[8]=i=>t.form.inn=i),maxlength:"12",class:"form-control",id:"client-inn",required:""},null,512),[[m,t.form.inn]]),ls]),s("button",{type:"button",disabled:!t.form.inn,onClick:o[9]||(o[9]=(...i)=>t.requestByInn&&t.requestByInn(...i)),class:"btn btn-outline-secondary rounded-0"},ds,8,ns)]),t.link_for_document?(e(),l("a",{key:0,href:"https://egrul.nalog.ru/vyp-download/"+t.link_for_document,target:"_blank",class:"btn btn-link my-0 py-0 px-0",style:{color:"red"}},"Скачать выписку",8,rs)):a("",!0)]),s("div",as,[s("div",cs,[u(s("input",{type:"text",maxlength:"9","onUpdate:modelValue":o[10]||(o[10]=i=>t.form.kpp=i),class:"form-control",id:"client-kpp"},null,512),[[m,t.form.kpp]]),us])]),s("div",ms,[s("div",hs,[u(s("input",{type:"text",maxlength:"15","onUpdate:modelValue":o[11]||(o[11]=i=>t.form.ogrn=i),class:"form-control",id:"client-ogrn"},null,512),[[m,t.form.ogrn]]),_s])]),s("div",fs,[s("div",ps,[u(s("input",{type:"text","onUpdate:modelValue":o[12]||(o[12]=i=>t.form.okpo=i),maxlength:"10",class:"form-control",id:"client-okpo"},null,512),[[m,t.form.okpo]]),bs])]),s("div",ks,[s("div",$s,[s("div",{class:"form-floating",onClick:o[13]||(o[13]=(...i)=>t.openUserSearchModal&&t.openUserSearchModal(...i))},[t.form.user?(e(),l("p",gs,_(t.form.user.email),1)):(e(),l("p",vs,"Не выбран")),ys]),t.form.user?(e(),l("button",{key:0,type:"button",class:"btn btn-outline-secondary rounded-0",onClick:o[14]||(o[14]=i=>t.form.user=null)},ws)):a("",!0)])])]),s("div",Cs,[s("div",Us,[s("button",{type:"button",onClick:o[15]||(o[15]=(...i)=>t.addRequisites&&t.addRequisites(...i)),class:"btn btn-dark rounded-0"},[Vs,c("Добавить расчётный счёт ")])]),(e(!0),l(f,null,p(t.form.requisites,(i,r)=>(e(),l("div",Ls,[s("div",Ds,[s("div",Ms,[s("div",Is,[u(s("input",{class:"form-check-input",onChange:h=>t.changeRequisitesMain(r),"onUpdate:modelValue":h=>t.form.requisites[r].is_main=h,type:"checkbox",role:"switch",id:"form-requisites-checking_account"+r,checked:""},null,40,js),[[q,t.form.requisites[r].is_main]]),s("label",{class:"form-check-label",for:"form-requisites-checking_account"+r}," Основной расчетный счёт ",8,As)]),s("a",{href:"javascript:void(0)",class:"btn btn-outline-secondary rounded-0",onClick:h=>t.removeRequisite(r)},[Ss,c(" Удалить")],8,Bs)]),s("div",Fs,[s("div",Ts,[s("div",Os,[s("div",Rs,[s("div",Es,[u(s("input",{type:"text",maxlength:"11","onUpdate:modelValue":h=>t.form.requisites[r].bik=h,class:"form-control",id:"form-requisites-bik"+r,required:""},null,8,Ps),[[m,t.form.requisites[r].bik]]),s("label",{for:"form-requisites-bik"+r},"БИК",8,Ns)]),s("button",{type:"button",disabled:!t.form.requisites[r].bik,onClick:h=>t.requestByBik(r),class:"btn btn-outline-secondary rounded-0"},zs,8,Gs)])]),s("div",Hs,[s("div",Ks,[u(s("input",{type:"text","onUpdate:modelValue":h=>t.form.requisites[r].bank=h,class:"form-control",id:"form-requisites-bank"+r},null,8,Qs),[[m,t.form.requisites[r].bank]]),s("label",{for:"form-requisites-bank"+r},"Банк",8,Ws)])]),s("div",Xs,[s("div",Ys,[u(s("input",{type:"text","onUpdate:modelValue":h=>t.form.requisites[r].address=h,class:"form-control",id:"form-requisites-address"+r},null,8,Zs),[[m,t.form.requisites[r].address]]),s("label",{for:"form-requisites-address"+r},"Адрес",8,xs)])]),s("div",st,[s("div",tt,[u(s("input",{type:"text",maxlength:"20","onUpdate:modelValue":h=>t.form.requisites[r].correspondent_account=h,class:"form-control",id:"form-requisites-correspondent_account"+r},null,8,ot),[[m,t.form.requisites[r].correspondent_account]]),s("label",{for:"form-requisites-correspondent_account"+r},"Кор.счёт",8,et)])]),s("div",lt,[s("div",nt,[u(s("input",{type:"text","onUpdate:modelValue":h=>t.form.requisites[r].checking_account=h,maxlength:"20",class:"form-control",id:"form-requisites-checking_account"+r,required:""},null,8,it),[[m,t.form.requisites[r].checking_account]]),s("label",{for:"form-requisites-checking_account"+r},"Расчетный счет",8,dt)])])])])])]))),256))]),s("div",rt,[s("div",at,[t.messages.length>0?(e(!0),l(f,{key:0},p(t.messages,(i,r)=>(e(),l("div",ct,[ut,c(" "+_(i||"Ошибка")+" ",1),s("button",{type:"button",class:"btn-close",onClick:h=>t.removeMessage(r)},null,8,mt)]))),256)):a("",!0)])]),s("div",ht,[s("div",_t,[s("button",ft,[t.loading?(e(),l("span",bt)):(e(),l("i",pt)),c(" Сохранить клиента ")]),!t.loading&&!n.editing?(e(),l("button",{key:0,type:"button",onClick:o[16]||(o[16]=(...i)=>t.resetForm&&t.resetForm(...i)),class:"btn btn-outline-secondary rounded-0 ml-2"},[kt,c(" Очистить клиента ")])):a("",!0)])])],32),s("div",$t,[s("div",gt,[s("div",vt,[yt,s("div",qt,[y(C,{"for-select":!0,onSelect:t.selectUserId},null,8,["onSelect"])]),wt])])])],64)}}}),Vt={class:"row"},Lt={class:"col-12"},Dt={class:"input-group mb-3"},Mt={class:"form-floating"},It=s("label",{for:"search-clients"},"Поиск по клиентам",-1),jt=s("i",{class:"fa-solid fa-magnifying-glass"},null,-1),At=[jt],Bt={class:"d-flex scrollable-area py-5 mb-3"},St={key:0,class:"table table-responsive"},Ft={key:0},Tt=s("i",{class:"fa-solid fa-caret-down"},null,-1),Ot=[Tt],Rt={key:1},Et=s("i",{class:"fa-solid fa-caret-up"},null,-1),Pt=[Et],Nt=s("th",{scope:"col",class:"text-center"},"Действие",-1),Gt={key:0},Jt=s("i",{class:"fa-solid fa-caret-down"},null,-1),zt=[Jt],Ht={key:1},Kt=s("i",{class:"fa-solid fa-caret-up"},null,-1),Qt=[Kt],Wt={key:0},Xt=s("i",{class:"fa-solid fa-caret-down"},null,-1),Yt=[Xt],Zt={key:1},xt=s("i",{class:"fa-solid fa-caret-up"},null,-1),so=[xt],to={key:0},oo=s("i",{class:"fa-solid fa-caret-down"},null,-1),eo=[oo],lo={key:1},no=s("i",{class:"fa-solid fa-caret-up"},null,-1),io=[no],ro={key:0},ao=s("i",{class:"fa-solid fa-caret-down"},null,-1),co=[ao],uo={key:1},mo=s("i",{class:"fa-solid fa-caret-up"},null,-1),ho=[mo],_o={key:0},fo=s("i",{class:"fa-solid fa-caret-down"},null,-1),po=[fo],bo={key:1},ko=s("i",{class:"fa-solid fa-caret-up"},null,-1),$o=[ko],go={key:0},vo=s("i",{class:"fa-solid fa-caret-down"},null,-1),yo=[vo],qo={key:1},wo=s("i",{class:"fa-solid fa-caret-up"},null,-1),Co=[wo],Uo={key:0},Vo=s("i",{class:"fa-solid fa-caret-down"},null,-1),Lo=[Vo],Do={key:1},Mo=s("i",{class:"fa-solid fa-caret-up"},null,-1),Io=[Mo],jo={key:0},Ao=s("i",{class:"fa-solid fa-caret-down"},null,-1),Bo=[Ao],So={key:1},Fo=s("i",{class:"fa-solid fa-caret-up"},null,-1),To=[Fo],Oo={key:0},Ro=s("i",{class:"fa-solid fa-caret-down"},null,-1),Eo=[Ro],Po={key:1},No=s("i",{class:"fa-solid fa-caret-up"},null,-1),Go=[No],Jo={key:0},zo=s("i",{class:"fa-solid fa-caret-down"},null,-1),Ho=[zo],Ko={key:1},Qo=s("i",{class:"fa-solid fa-caret-up"},null,-1),Wo=[Qo],Xo={key:0},Yo=s("i",{class:"fa-solid fa-caret-down"},null,-1),Zo=[Yo],xo={key:1},se=s("i",{class:"fa-solid fa-caret-up"},null,-1),te=[se],oe={scope:"row"},ee={class:"text-center"},le={class:"dropdown"},ne=s("button",{class:"btn btn-link",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},[s("i",{class:"fa-solid fa-bars"})],-1),ie={class:"dropdown-menu"},de=["onClick"],re=s("i",{class:"fa-solid fa-pen mr-2"},null,-1),ae=["onClick"],ce=s("i",{class:"fa-solid fa-trash-can mr-2"},null,-1),ue=["onClick"],me=["onClick"],he={class:"text-center"},_e={class:"text-center"},fe={class:"text-center"},pe={class:"text-center"},be={class:"text-center"},ke={class:"text-center"},$e={class:"text-center"},ge={class:"text-center"},ve={class:"text-center"},ye={key:0,class:"alert alert-success",role:"alert"},qe=s("h4",{class:"alert-heading"},"Клиенты",-1),we=s("p",null,"К сожалению, раздел клиентов пуст. Вы еще не добавили ни одного клиента, которых можно отобразить на этой странице.",-1),Ce=s("hr",null,null,-1),Ue=s("p",{class:"mb-0"},"Воспользуйтесь формой выше и добавьте своего первого клиента",-1),Ve=[qe,we,Ce,Ue],Le={key:1,class:"row mb-3"},De={class:"col-12"},Me={class:"modal fade",id:"client-editor-modal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},Ie={class:"modal-dialog modal-lg"},je={class:"modal-content rounded-0"},Ae={class:"modal-body"},Be={data(){return{editor_modal:null,selected_item:null,sort:{column:null,direction:"desc"},search:null,current_page:0,paginate_object:null,statuses:[],items:[{id:null,status:null,phone:null,email:null,fact_address:null,comment:null,user_id:null,title:null,fio:null,law_address:null,inn:null,kpp:null,ogrn:null,okpo:null,requisites:[]}]}},computed:{...k(["getClients","getClientsPaginateObject","getDictionary"])},mounted(){this.loadClients(),this.statuses=this.getDictionary.statuses||[],this.editor_modal=new bootstrap.Modal(document.getElementById("client-editor-modal"),{})},methods:{preparedLawStatus(n){let t=this.statuses.find(o=>o.value===n)||null;return t?t.title:null},sortAndLoad(n){this.sort.column=n,this.sort.direction=this.sort.direction==="desc"?"asc":"desc",this.loadClients(this.current_page)},loadClients(n=0){this.current_page=n,this.$store.dispatch("loadClients",{dataObject:{search:this.search,order:this.sort.column,direction:this.sort.direction},page:this.current_page}).then(t=>{this.items=this.getClients,this.paginate_object=this.getClientsPaginateObject}).catch(()=>{this.loading=!1})},selectItem(n){if(n==null){this.selected_item=null,this.editor_modal.hide();return}this.selected_item=null,this.$nextTick(()=>{this.selected_item=n,this.editor_modal.show()})},duplicateItem(n){this.$store.dispatch("duplicateClient",{materialId:n}).then(()=>{this.sortAndLoad("id")})},removeItem(n){this.$store.dispatch("removeClient",{materialId:n}).then(()=>{this.sortAndLoad("id")})}}},Re=Object.assign(Be,{__name:"ClientTable",setup(n){return(t,o)=>(e(),l(f,null,[s("form",Vt,[s("div",Lt,[s("div",Dt,[s("div",Mt,[u(s("input",{type:"search","onUpdate:modelValue":o[0]||(o[0]=d=>t.search=d),class:"form-control",id:"search-clients"},null,512),[[m,t.search]]),It]),s("button",{type:"button",onClick:o[1]||(o[1]=d=>t.sortAndLoad("id")),class:"btn btn-outline-secondary rounded-0"},At)])])]),s("div",Bt,[t.items.length>0?(e(),l("table",St,[s("thead",null,[s("tr",null,[s("th",{scope:"col",class:"cursor-pointer",onClick:o[2]||(o[2]=d=>t.sortAndLoad("id"))},[c("# "),t.sort.direction==="desc"&&t.sort.column==="id"?(e(),l("span",Ft,Ot)):a("",!0),t.sort.direction==="asc"&&t.sort.column==="id"?(e(),l("span",Rt,Pt)):a("",!0)]),Nt,s("th",{scope:"col",class:"text-center cursor-pointer",onClick:o[3]||(o[3]=d=>t.sortAndLoad("title"))},[c("Название "),t.sort.direction==="desc"&&t.sort.column==="title"?(e(),l("span",Gt,zt)):a("",!0),t.sort.direction==="asc"&&t.sort.column==="title"?(e(),l("span",Ht,Qt)):a("",!0)]),s("th",{scope:"col",class:"text-center cursor-pointer",onClick:o[4]||(o[4]=d=>t.sortAndLoad("title"))},[c(" ФИО "),t.sort.direction==="desc"&&t.sort.column==="fio"?(e(),l("span",Wt,Yt)):a("",!0),t.sort.direction==="asc"&&t.sort.column==="fio"?(e(),l("span",Zt,so)):a("",!0)]),s("th",{scope:"col",class:"text-center cursor-pointer",onClick:o[5]||(o[5]=d=>t.sortAndLoad("phone"))},[c("Телефон "),t.sort.direction==="desc"&&t.sort.column==="phone"?(e(),l("span",to,eo)):a("",!0),t.sort.direction==="asc"&&t.sort.column==="phone"?(e(),l("span",lo,io)):a("",!0)]),s("th",{scope:"col",class:"text-center cursor-pointer",onClick:o[6]||(o[6]=d=>t.sortAndLoad("status"))},[c("Статус клиента "),t.sort.direction==="desc"&&t.sort.column==="status"?(e(),l("span",ro,co)):a("",!0),t.sort.direction==="asc"&&t.sort.column==="status"?(e(),l("span",uo,ho)):a("",!0)]),s("th",{scope:"col",class:"text-center cursor-pointer",onClick:o[7]||(o[7]=d=>t.sortAndLoad("fact_address"))},[c("Фактический адрес "),t.sort.direction==="desc"&&t.sort.column==="fact_address"?(e(),l("span",_o,po)):a("",!0),t.sort.direction==="asc"&&t.sort.column==="fact_address"?(e(),l("span",bo,$o)):a("",!0)]),s("th",{scope:"col",class:"text-center cursor-pointer",onClick:o[8]||(o[8]=d=>t.sortAndLoad("law_address"))},[c("Юридический адрес "),t.sort.direction==="desc"&&t.sort.column==="law_address"?(e(),l("span",go,yo)):a("",!0),t.sort.direction==="asc"&&t.sort.column==="law_address"?(e(),l("span",qo,Co)):a("",!0)]),s("th",{scope:"col",class:"text-center cursor-pointer",onClick:o[9]||(o[9]=d=>t.sortAndLoad("inn"))},[c("ИНН "),t.sort.direction==="desc"&&t.sort.column==="inn"?(e(),l("span",Uo,Lo)):a("",!0),t.sort.direction==="asc"&&t.sort.column==="inn"?(e(),l("span",Do,Io)):a("",!0)]),s("th",{scope:"col",class:"text-center cursor-pointer",onClick:o[10]||(o[10]=d=>t.sortAndLoad("kpp"))},[c("КПП "),t.sort.direction==="desc"&&t.sort.column==="kpp"?(e(),l("span",jo,Bo)):a("",!0),t.sort.direction==="asc"&&t.sort.column==="kpp"?(e(),l("span",So,To)):a("",!0)]),s("th",{scope:"col",class:"text-center cursor-pointer",onClick:o[11]||(o[11]=d=>t.sortAndLoad("ogrn"))},[c("ОГРН "),t.sort.direction==="desc"&&t.sort.column==="ogrn"?(e(),l("span",Oo,Eo)):a("",!0),t.sort.direction==="asc"&&t.sort.column==="ogrn"?(e(),l("span",Po,Go)):a("",!0)]),s("th",{scope:"col",class:"text-center cursor-pointer",onClick:o[12]||(o[12]=d=>t.sortAndLoad("okpo"))},[c("ОКПО "),t.sort.direction==="desc"&&t.sort.column==="okpo"?(e(),l("span",Jo,Ho)):a("",!0),t.sort.direction==="asc"&&t.sort.column==="okpo"?(e(),l("span",Ko,Wo)):a("",!0)]),s("th",{scope:"col",class:"text-center cursor-pointer",onClick:o[13]||(o[13]=d=>t.sortAndLoad("comment"))},[c("Комментарий "),t.sort.direction==="desc"&&t.sort.column==="comment"?(e(),l("span",Xo,Zo)):a("",!0),t.sort.direction==="asc"&&t.sort.column==="comment"?(e(),l("span",xo,te)):a("",!0)])])]),s("tbody",null,[(e(!0),l(f,null,p(t.items,(d,i)=>(e(),l("tr",null,[s("th",oe,_(d.id||i),1),s("td",ee,[s("div",le,[ne,s("ul",ie,[s("li",null,[s("a",{class:"dropdown-item",onClick:r=>t.selectItem(d),href:"javascript:void(0)"},[re,c("Редактировать")],8,de)]),s("li",null,[s("a",{class:"dropdown-item text-danger",onClick:r=>t.removeItem(d.id),href:"javascript:void(0)"},[ce,c("Удалить")],8,ae)])])])]),s("td",{class:"text-center",onClick:r=>t.selectItem(d)},_(d.title||"-"),9,ue),s("td",{class:"text-center",onClick:r=>t.selectItem(d)},_(d.fio||"-"),9,me),s("td",he,_(d.phone||"-"),1),s("td",_e,_(t.preparedLawStatus(d.status)||"-"),1),s("td",fe,_(d.fact_address||"-"),1),s("td",pe,_(d.law_address||"-"),1),s("td",be,_(d.inn||"-"),1),s("td",ke,_(d.kpp||"-"),1),s("td",$e,_(d.ogrn||"-"),1),s("td",ge,_(d.okpo||"-"),1),s("td",ve,_(d.comment||"-"),1)]))),256))])])):a("",!0)]),t.items.length===0?(e(),l("div",ye,Ve)):a("",!0),t.items.length>0?(e(),l("div",Le,[s("div",De,[t.paginate_object?(e(),b(w,{key:0,onPagination_page:t.loadClients,pagination:t.paginate_object},null,8,["onPagination_page","pagination"])):a("",!0)])])):a("",!0),s("div",Me,[s("div",Ie,[s("div",je,[s("div",Ae,[t.selected_item?(e(),b(Ut,{key:0,item:t.selected_item,onCallback:o[14]||(o[14]=d=>t.selectItem(null))},null,8,["item"])):a("",!0)])])])])],64))}});export{Ut as _,Re as a};
