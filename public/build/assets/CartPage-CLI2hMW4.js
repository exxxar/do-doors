import{a as m,_ as p}from"./AuthenticatedLayout-xRh9Nswg.js";import{m as h,o as a,c as n,b as t,t as f,F as r,r as _,f as u,p as d,e as c,a as l,j as k,u as v,w as b,Z as g}from"./app-Cs4LqTrj.js";import{C as y}from"./CartProductItem-C-aO-6mt.js";import"./ApplicationLogo-C9sx2dvQ.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./IndividualDataForm-YIxirPpt.js";import"./vue-the-mask-Bdf0JxEC.js";const C={class:"container h-100"},$={class:"col-lg-8"},w={class:"p-5"},j={class:"d-flex justify-content-between align-items-center mb-5"},O=t("h1",{class:"fw-bold mb-0 text-black"},"Позиций товаров в корзине",-1),P={class:"mb-0 text-muted"},T=t("hr",{class:"my-4"},null,-1),x=t("hr",{class:"my-4"},null,-1),N={class:"pt-5"},V={class:"mb-0"},A=t("i",{class:"fas fa-long-arrow-alt-left me-2"},null,-1),B={class:"col-lg-4 bg-grey"},F={class:"d-flex justify-content-between mb-2"},E={for:"send-to-mail",class:"d-flex"},I={key:1,class:"fa-solid fa-check"},S=t("span",null," Отправить КП на почту клиента и в телеграм ",-1),z=["disabled"],D=t("i",{class:"fa-solid fa-paper-plane"},null,-1),G=[D],L=t("i",{class:"fa-solid fa-floppy-disk"},null,-1),M={class:"nav nav-tabs mb-3",id:"legal-or-individual-tab",role:"tablist"},Z={class:"nav-item",role:"presentation"},q={class:"nav-item",role:"presentation"},H={computed:{...h(["getErrors","cartTotalCount","cartProducts","cartTotalPrice"])},data(){return{tab:0,step:0,action:[]}},methods:{checkout(i){this.step=1,this.tab=1,this.preCheckAction(i)},preCheckAction(i){let s=this.action.findIndex(e=>e===i);if(s!==-1){this.action.splice(s,1);return}this.action.push(i)},goToCheckout(){this.$emit("callback")},back(){this.step=0,this.tab=0}}},J=Object.assign(H,{__name:"CartForm",setup(i){return(s,e)=>(a(),n("div",C,[t("form",{onSubmit:e[7]||(e[7]=k((...o)=>s.goToCheckout&&s.goToCheckout(...o),["prevent"])),class:"row g-0"},[t("div",$,[t("div",w,[t("div",j,[O,t("h6",P,f((s.cartProducts||[]).length)+" ед.",1)]),T,(a(!0),n(r,null,_(s.cartProducts,o=>(a(),n("div",null,[l(y,{item:o},null,8,["item"]),x]))),256)),t("div",N,[t("h6",V,[t("a",{onClick:e[0]||(e[0]=(...o)=>s.back&&s.back(...o)),href:"javascript:void(0)",class:"text-body"},[A,u("К калькулятору")])])])])]),t("div",B,[s.step===0?(a(),n(r,{key:0},[t("div",F,[t("label",E,[t("button",{type:"button",id:"send-to-mail",class:d([{"btn-outline-secondary":s.action.indexOf(1)!==-1},"btn btn-outline-light text-gray-400 rounded-0 mr-2"]),onClick:e[1]||(e[1]=o=>s.preCheckAction(1))},[s.action.indexOf(1)!==-1?(a(),n("i",{key:0,class:d([{"text-success":s.action.indexOf(1)!==-1},"fa-solid fa-check-double"])},null,2)):(a(),n("i",I))],2),S]),t("button",{disabled:s.action.indexOf(1)===-1,onClick:e[2]||(e[2]=o=>s.checkout(3)),class:"btn btn-dark rounded-0 ml-2"},G,8,z)]),t("button",{class:"btn btn-success rounded-0 w-100 mb-2",onClick:e[3]||(e[3]=o=>s.checkout(0))},"Отправить сделку в СРМ "),t("button",{class:"btn btn-outline-dark rounded-0 w-100 mb-2",onClick:e[4]||(e[4]=o=>s.checkout(3))},[L,u(" Сохранить ")])],64)):c("",!0),s.step===1?(a(),n(r,{key:1},[t("ul",M,[t("li",Z,[t("button",{class:d(["nav-link rounded-0",{active:s.tab===0}]),onClick:e[5]||(e[5]=o=>s.tab=0),id:"home-tab",type:"button","aria-controls":"legal_entity-tab-pane","aria-selected":"true"},"Юридическое лицо ",2)]),t("li",q,[t("button",{class:d([{active:s.tab===1},"nav-link rounded-0"]),onClick:e[6]||(e[6]=o=>s.tab=1),id:"profile-tab",type:"button","aria-controls":"profile-tab-pane","aria-selected":"false"},"Физическое лицо ",2)])]),l(m,{type:s.tab,onCallback:s.back},null,8,["type","onCallback"])],64)):c("",!0)])],32)]))}}),K=t("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"},"Корзина",-1),Q={class:"py-12"},R={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},U={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},W={key:0,class:"p-6 text-gray-900"},X={key:1,class:"p-6 text-gray-900"},Y={data(){return{tab:0}}},lt=Object.assign(Y,{__name:"CartPage",setup(i){return(s,e)=>(a(),n(r,null,[l(v(g),{title:"Калькулятор"}),l(p,null,{header:b(()=>[K]),default:b(()=>[t("div",Q,[t("div",R,[t("div",U,[s.tab===0?(a(),n("div",W,[l(J,{onCallback:e[0]||(e[0]=o=>s.tab++)})])):c("",!0),s.tab===1?(a(),n("div",X)):c("",!0)])])])]),_:1})],64))}});export{lt as default};
