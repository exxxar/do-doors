import{A as V}from"./ApplicationLogo-nRanF_iW.js";import{B as q,J as z,K as k,z as P,o,c as d,b as t,x as g,g as w,V as E,a as m,w as c,p as y,T as M,d as u,u as C,_ as F,m as D,v as I,e as n,f as l,t as h,F as $,r as S,j as N,$ as B,k as O}from"./app-O5Q0GFN0.js";import{L as U,I as R,C as A}from"./IndividualDataForm-ujEXQDpl.js";import{v as j}from"./vue-the-mask-B735Myrw.js";import{_ as J}from"./_plugin-vue_export-helper-DlAUqK2U.js";const Q={class:"relative"},G={__name:"Dropdown",props:{align:{type:String,default:"right"},width:{type:String,default:"48"},contentClasses:{type:String,default:"py-1 bg-white"}},setup(r){const s=r,e=b=>{p.value&&b.key==="Escape"&&(p.value=!1)};q(()=>document.addEventListener("keydown",e)),z(()=>document.removeEventListener("keydown",e));const a=k(()=>({48:"w-48"})[s.width.toString()]),i=k(()=>s.align==="left"?"ltr:origin-top-left rtl:origin-top-right start-0":s.align==="right"?"ltr:origin-top-right rtl:origin-top-left end-0":"origin-top"),p=P(!1);return(b,v)=>(o(),d("div",Q,[t("div",{onClick:v[0]||(v[0]=T=>p.value=!p.value)},[g(b.$slots,"trigger")]),w(t("div",{class:"fixed inset-0 z-40",onClick:v[1]||(v[1]=T=>p.value=!1)},null,512),[[E,p.value]]),m(M,{"enter-active-class":"transition ease-out duration-200","enter-from-class":"opacity-0 scale-95","enter-to-class":"opacity-100 scale-100","leave-active-class":"transition ease-in duration-75","leave-from-class":"opacity-100 scale-100","leave-to-class":"opacity-0 scale-95"},{default:c(()=>[w(t("div",{class:y(["absolute z-50 mt-2 rounded-md shadow-lg",[a.value,i.value]]),style:{display:"none"},onClick:v[2]||(v[2]=T=>p.value=!1)},[t("div",{class:y(["rounded-md ring-1 ring-black ring-opacity-5",r.contentClasses])},[g(b.$slots,"content")],2)],2),[[E,p.value]])]),_:3})]))}},L={__name:"DropdownLink",props:{href:{type:String,required:!0}},setup(r){return(s,e)=>(o(),u(C(F),{href:r.href,class:"block w-full px-4 py-2 text-start text-sm leading-5 text-gray-700 hover:bg-gray-100 focus:outline-none focus:bg-gray-100 transition duration-150 ease-in-out"},{default:c(()=>[g(s.$slots,"default")]),_:3},8,["href"]))}},f={__name:"NavLink",props:{href:{type:String,required:!0},active:{type:Boolean}},setup(r){const s=r,e=k(()=>s.active?"inline-flex items-center px-1 pt-1 border-b-2 border-indigo-400 text-sm font-medium leading-5 text-gray-900 focus:outline-none focus:border-indigo-700 transition duration-150 ease-in-out":"inline-flex items-center px-1 pt-1 border-b-2 border-transparent text-sm font-medium leading-5 text-gray-500 hover:text-gray-700 hover:border-gray-300 focus:outline-none focus:text-gray-700 focus:border-gray-300 transition duration-150 ease-in-out");return(a,i)=>(o(),u(C(F),{href:r.href,class:y(e.value)},{default:c(()=>[g(a.$slots,"default")]),_:3},8,["href","class"]))}},_={__name:"ResponsiveNavLink",props:{href:{type:String,required:!0},active:{type:Boolean}},setup(r){const s=r,e=k(()=>s.active?"block w-full ps-3 pe-4 py-2 border-l-4 border-indigo-400 text-start text-base font-medium text-indigo-700 bg-indigo-50 focus:outline-none focus:text-indigo-800 focus:bg-indigo-100 focus:border-indigo-700 transition duration-150 ease-in-out":"block w-full ps-3 pe-4 py-2 border-l-4 border-transparent text-start text-base font-medium text-gray-600 hover:text-gray-800 hover:bg-gray-50 hover:border-gray-300 focus:outline-none focus:text-gray-800 focus:bg-gray-50 focus:border-gray-300 transition duration-150 ease-in-out");return(a,i)=>(o(),u(C(F),{href:r.href,class:y(e.value)},{default:c(()=>[g(a.$slots,"default")]),_:3},8,["href","class"]))}},K={class:"input-group mb-2"},H={class:"form-floating"},W=t("label",{for:"checkout-name"},"Название компании\\Ф.И.О. ИП",-1),X={key:0,class:"btn btn-outline-secondary",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},Y=t("i",{class:"fa-solid fa-up-right-and-down-left-from-center"},null,-1),Z=[Y],x={style:{"overflow-y":"scroll",height:"400px",width:"100%"},class:"dropdown-menu dropdown-menu-end rounded-0"},ee=t("i",{class:"fa-solid fa-ban"},null,-1),te=t("li",null,[t("hr",{class:"dropdown-divider"})],-1),se=t("i",{class:"fa-solid fa-plus"},null,-1),oe=t("li",null,[t("hr",{class:"dropdown-divider"})],-1),re={class:"p-2"},ne={class:"form-floating mb-3"},ae={for:"floatingInput"},ie=["onClick"],le=t("br",null,null,-1),de={class:"badge rounded-0 btn-dark",style:{"font-size":"8px"}},ce=["href"],ue={key:0,class:"d-flex justify-content-center my-3"},he=t("div",{class:"spinner-border text-primary mx-2",role:"status"},[t("span",{class:"visually-hidden"},"Loading...")],-1),pe={key:1,class:"card rounded-0"},fe=t("div",{class:"card-body"},[t("p",null,"Вы должны добавить в корзину хотя бы одно изделие")],-1),me=[fe],ve={props:["type","action"],directives:{mask:j.mask},computed:{...D(["getErrors","getDictionary","cartTotalCount","cartTotalPrice","cartProducts"]),filteredClients(){if(!this.search)return this.self_clients||[];const r=this.search.toLowerCase();return this.self_clients.filter(s=>(s.title||"").toLowerCase().includes(r)||(s.fio||"").toLowerCase().includes(r))}},watch:{},data(){return{edit_requisites:!1,search:null,tab:0,timer:null,step:0,editor_modal:null,self_clients:[],clientForm:{id:null,send_to_bitrix:!0,send_to_mail:!1,send_to_telegram:!0,send_to_self_mail:!1,self_email:null,name:null,phone:null,email:null,info:null,promo:null,dealer_percent:0,summary_price_type:null,work_with_nds:1,items:[],current_payed:0,payed_percent:70,payed_percent_type:1,delivery_terms:null,ascent_floor:!1,work_days:0,installation:{need_door_install:!1,count:0,price:0,recount_type:0},designer:{is_fix:!1,value:0,price:0},passport:null,passport_issued:null,need_delivery:!1,delivery_type:1,delivery_address:null,delivery_price:null,delivery_city:null,delivery_service:null,discount_data:null}}},mounted(){this.loadSelfClients(),this.cartProducts.forEach(r=>{r.product.need_door_install&&(this.clientForm.installation.need_door_install=!0,this.clientForm.installation.count+=r.quantity)})},methods:{showEditorForm(){window.location.href="/clients"},selectItem(){},back(){this.$emit("callback")},preparedLawStatus(r){let e=(this.getDictionary.statuses||[]).find(a=>a.value===r)||null;return e?e.title:null},selectInfo(r){if(r==null){this.clientForm.id=null,this.clientForm.name=null,this.clientForm.email=null,this.clientForm.phone=null,this.clientForm.pasport=null,this.clientForm.pasport_issued=null,this.clientForm.fact_address=null;return}this.clientForm.id=r.id||null,this.clientForm.name=r.title||null,this.clientForm.email=r.email||null,this.clientForm.phone=r.phone||null,this.clientForm.delivery_address=r.fact_address||null,this.clientForm.pasport=r.pasport||null,this.clientForm.pasport_issued=r.pasport_issued||null},clearCart(){this.$store.dispatch("clearCart").then(r=>{this.$notify({title:"DoDoors",text:"Успешно очищено",type:"success"})}).catch(r=>{this.$notify({title:"DoDoors",text:"Ошибочка...",type:"error"})})},findPromo(){this.discount=0,!((this.clientForm.promo||"").length<=5)&&this.$store.dispatch("findPromoCode",{code:this.clientForm.promo}).then(r=>{this.discount=r.discount||0})},loadSelfClients(){this.$store.dispatch("loadSelfClients").then(r=>{this.self_clients=r.data||[]}).catch(()=>{})},submit(){this.timer=0;let r=setInterval(()=>{this.timer++},1e3);this.clientForm.items=this.cartProducts;let s=new FormData;Object.keys(this.clientForm).forEach(e=>{const a=this.clientForm[e]||"";typeof a=="object"?s.append(e,JSON.stringify(a)):s.append(e,a)}),s.append("total_price",this.cartTotalPrice),s.append("total_count",this.cartTotalCount),this.$store.dispatch("checkoutItems",{clientForm:s}).then(e=>{clearInterval(r),this.timer=null,this.back(),this.step=0,this.$store.dispatch("clearCart"),this.clientForm={name:null,phone:null,email:null,info:null,passport:null,passport_issued:null,delivery_address:null},this.$notify({title:"DoDoors",text:"Заказ передан менеджеру!",type:"success"})}).catch(e=>{clearInterval(r),this.timer=null,this.$notify({title:"DoDoors",text:"Ошибочка...",type:"error"})})}}},_e=Object.assign(ve,{__name:"CartCheckoutForm",setup(r){return(s,e)=>s.cartTotalCount>0?(o(),d("form",{key:0,onSubmit:e[7]||(e[7]=N((...a)=>s.submit&&s.submit(...a),["prevent"]))},[t("div",K,[t("div",H,[w(t("input",{type:"text",class:"form-control","onUpdate:modelValue":e[0]||(e[0]=a=>s.clientForm.name=a),id:"checkout-name",placeholder:"name@example.com",required:""},null,512),[[I,s.clientForm.name]]),W]),s.self_clients.length>0?(o(),d("button",X,Z)):n("",!0),t("ul",x,[t("li",null,[t("a",{class:"dropdown-item",onClick:e[1]||(e[1]=a=>s.selectInfo(null)),href:"javascript:void(0)"},[ee,l(" Не выбрано")])]),te,t("li",null,[t("a",{class:"dropdown-item",onClick:e[2]||(e[2]=(...a)=>s.showEditorForm&&s.showEditorForm(...a)),href:"javascript:void(0)"},[se,l(" Создать нового")])]),oe,t("li",null,[t("div",re,[t("div",ne,[w(t("input",{type:"search","onUpdate:modelValue":e[3]||(e[3]=a=>s.search=a),class:"form-control",id:"floatingInput",placeholder:"Имя"},null,512),[[I,s.search]]),t("label",ae,"Поиск (найдено "+h(s.filteredClients.length||0)+" клиентов) ",1)])]),(o(!0),d($,null,S(s.filteredClients,(a,i)=>(o(),d("a",{class:y([{"btn-light":i%2===0},"p-2 d-block btn rounded-0"]),style:{"word-wrap":"break-word","overflow-wrap":"break-word"},href:"javascript:void(0)",onClick:p=>s.selectInfo(a)},[l(h(a.title||a.phone)+" ",1),le,t("span",de,h(s.preparedLawStatus(a.status)||"Не указан"),1)],10,ie))),256))])])]),s.clientForm.id?(o(),d("a",{key:0,class:"btn btn-link mb-2 p-0",href:"/client/"+s.clientForm.id,target:"_blank"},"Редактировать клиента",8,ce)):n("",!0),(r.type||0)===0?(o(),u(U,{key:1,modelValue:s.clientForm,"onUpdate:modelValue":e[4]||(e[4]=a=>s.clientForm=a)},null,8,["modelValue"])):n("",!0),(r.type||0)===1?(o(),u(R,{key:2,modelValue:s.clientForm,"onUpdate:modelValue":e[5]||(e[5]=a=>s.clientForm=a)},null,8,["modelValue"])):n("",!0),m(A,{disabled:s.timer,modelValue:s.clientForm,"onUpdate:modelValue":e[6]||(e[6]=a=>s.clientForm=a)},{loader:c(()=>[s.timer?(o(),d("div",ue,[he,l(" Отправляем... ")])):n("",!0)]),_:1},8,["disabled","modelValue"])],32)):(o(),d("div",pe,me))}}),ye={props:["item"],data(){return{door:null,quantity:0}},mounted(){this.door=this.item.product||this.item.door||null,this.quantity=this.item.quantity||this.item.count||0},methods:{editDoorItem(){window.dispatchEvent(new CustomEvent("select-door-item",{detail:{item:this.item}}))},removeProduct(){this.$store.dispatch("removeProduct",this.door.id)},changeQuantityProductInCart(r="increment"){let s=r==="increment"?this.quantity+1:this.quantity-1;if(s===0){this.$store.dispatch("removeProduct",this.door.id);return}this.$store.dispatch("setQuantity",{id:this.door.id,quantity:s})}}},be={key:0,class:"card mb-2 rounded-0"},ge={class:"card-body"},ke={class:"row"},we={class:"col-md-12"},$e={class:"text-muted font-bold"},Ce={class:"text-black mb-0"},Fe={key:0},De={key:1,class:"ml-1"},Te={key:2,class:"ml-1"},Ee={key:3},Ie={key:4,class:"ml-1"},Le={key:5,class:"ml-1"},Pe={key:6,class:"ml-1"},Se={key:7,class:"ml-1"},je={key:8,class:"ml-1"},Ve={key:9,class:"ml-1"},qe={key:10,class:"ml-1"},ze={key:11,class:"ml-1"},Me={key:12,class:"ml-1"},Ne={key:13,class:"ml-1"},Be={key:14,class:"ml-1"},Oe={key:15,class:"ml-1"},Ue={key:16,class:"ml-1"},Re={class:"row d-flex align-items-center"},Ae={class:"col-5 col-md-5 col-lg-5 col-xl-5 d-flex justify-content-center mt-2"},Je=t("i",{class:"fas fa-minus"},null,-1),Qe=[Je],Ge={class:"btn",style:{color:"black"}},Ke=t("i",{class:"fas fa-plus"},null,-1),He=[Ke],We={class:"col-5 col-md-5 col-lg-5 col-xl-5"},Xe={class:"mb-0 text-center font-bold"},Ye={class:"col-2 col-md-2 col-lg-2 col-xl-2 text-center"},Ze=t("i",{class:"fas fa-times"},null,-1),xe=[Ze],et={class:"col-12"},tt=t("i",{class:"fa-regular fa-pen-to-square mr-2"},null,-1);function st(r,s,e,a,i,p){var b;return i.door?(o(),d("div",be,[t("div",ge,[t("div",ke,[t("div",we,[t("h6",$e,h(i.door.purpose||"-")+": "+h(i.door.door_type.title)+" "+h(i.door.width)+"x"+h(i.door.height)+"x "+h(((b=i.door.opening_type)==null?void 0:b.depth)||0),1),t("h6",Ce,[i.door.box_and_frame_color.title?(o(),d("span",Fe,"("+h(i.door.box_and_frame_color.title)+")",1)):n("",!0),l(" лицо "),i.door.front_side_finish.title?(o(),d("span",De,h(i.door.front_side_finish.title),1)):n("",!0),l("/ "),i.door.back_side_finish.title?(o(),d("span",Te,h(i.door.back_side_finish.title)+",",1)):n("",!0),l(" петли "),i.door.loops.title?(o(),d("span",Ee,h(i.door.loops.title)+",",1)):n("",!0),i.door.hinge_manufacturer.title?(o(),d("span",Ie,h(i.door.hinge_manufacturer.title)+",",1)):n("",!0),i.door.fittings_color.title?(o(),d("span",Le,"("+h(i.door.fittings_color.title)+"),",1)):n("",!0),i.door.opening_type.title?(o(),d("span",Pe,h(i.door.opening_type.title)+",",1)):n("",!0),i.door.handle_holes.title?(o(),d("span",Se,h(i.door.handle_holes.title)+",",1)):n("",!0),i.door.need_automatic_doorstep?(o(),d("span",je," автоматический порожек,")):n("",!0),i.door.need_upper_jumper?(o(),d("span",Ve," верхняя перемычка,")):n("",!0),i.door.need_handle_holes?(o(),d("span",qe," дверная ручка,")):n("",!0),i.door.handle_holes_type.title?(o(),d("span",ze,h(i.door.handle_holes_type.title)+",",1)):n("",!0),i.door.handle_holes.title?(o(),d("span",Me,h(i.door.handle_holes.title)+",",1)):n("",!0),i.door.need_hidden_door_closer?(o(),d("span",Ne," скрытый доводчик,")):n("",!0),i.door.need_hidden_skirting_board?(o(),d("span",Be," скрытый плинтус,")):n("",!0),i.door.need_hidden_stopper?(o(),d("span",Oe," скрытый стопор,")):n("",!0),i.door.need_door_install?(o(),d("span",Ue," установка двери")):n("",!0)])])]),t("div",Re,[t("div",Ae,[t("button",{class:"btn btn-link px-2",type:"button",style:{color:"black"},onClick:s[0]||(s[0]=v=>p.changeQuantityProductInCart("decrement"))},Qe),t("span",Ge,h(i.quantity),1),t("button",{class:"btn btn-link px-2",type:"button",style:{color:"black"},onClick:s[1]||(s[1]=v=>p.changeQuantityProductInCart("increment"))},He)]),t("div",We,[t("h6",Xe,h(i.quantity*(i.door.price||0))+" ₽",1)]),t("div",Ye,[t("a",{href:"javascript:void(0)",onClick:s[2]||(s[2]=(...v)=>p.removeProduct&&p.removeProduct(...v)),class:"text-muted"},xe)]),t("div",et,[t("button",{type:"button",style:{color:"black"},class:"btn btn-link",onClick:s[3]||(s[3]=(...v)=>p.editDoorItem&&p.editDoorItem(...v))},[tt,l("Редактировать ")])])])])])):n("",!0)}const ot=J(ye,[["render",st]]),rt={class:"offcanvas offcanvas-end",tabindex:"-1",id:"cart","aria-labelledby":"cart"},nt={class:"offcanvas-header"},at={class:"offcanvas-title font-bold"},it={key:0},lt={key:1},dt=t("button",{type:"button",class:"btn-close","data-bs-dismiss":"offcanvas","aria-label":"Close"},null,-1),ct={key:0,class:"offcanvas-body"},ut=t("div",{class:"hr my-3"},null,-1),ht={key:1,class:"card rounded-0"},pt=t("div",{class:"card-body"},[t("p",null,"Вы должны добавить в корзину хотя бы одно изделие")],-1),ft=[pt],mt={key:1,class:"offcanvas-body"},vt={key:2,class:"offcanvas-footer p-3"},_t={key:3,class:"offcanvas-footer p-3"},yt={key:0},bt={props:["orderId"],directives:{mask:j.mask},computed:{...D(["getErrors","getDictionary","cartTotalCount","cartTotalPrice","cartProducts"])},data(){return{tab:0,step:0,action:[],discount:0}},mounted(){this.step=0,this.tab=0},methods:{back(){this.step=0,this.tab=0},checkout(r){this.step=1,this.tab=1,this.preCheckAction(r)},preCheckAction(r){let s=this.action.findIndex(e=>e===r);if(s!==-1){this.action.splice(s,1);return}this.action.push(r)},clearCart(){this.$store.dispatch("clearCart").then(r=>{this.$notify({title:"DoDoors",text:"Успешно очищено",type:"success"}),window.dispatchEvent(new CustomEvent("clear-cart"))}).catch(r=>{this.$notify({title:"DoDoors",text:"Ошибочка...",type:"error"})})},downloadCartExcel(){let r=this.cartProducts,s=new FormData;s.append("items",JSON.stringify(r)),this.$store.dispatch("downloadExcel",{cardData:s}).then(e=>{var a=window.URL.createObjectURL(new Blob([e])),i=document.createElement("a");i.href=a,i.setAttribute("download","cart.xls"),document.body.appendChild(i),i.click(),this.$notify({title:"DoDoors",text:"Excel успешно скачан!",type:"success"})}).catch(e=>{this.$notify({title:"DoDoors",text:"Ошибочка...",type:"error"})})},loadSelfClients(){this.$store.dispatch("loadSelfClients").then(r=>{this.self_clients=r.data||[]}).catch(()=>{})},submit(){this.clientForm.items=this.cartProducts;let r=new FormData;Object.keys(this.clientForm).forEach(s=>{const e=this.clientForm[s]||"";typeof e=="object"?r.append(s,JSON.stringify(e)):r.append(s,e)}),this.orderId&&r.append("order_id",this.orderId),r.append("total_price",this.cartTotalPrice),r.append("total_count",this.cartTotalCount),this.$store.dispatch("checkoutItems",{clientForm:r}).then(s=>{this.step=0,this.$store.dispatch("clearCart"),this.clientForm={name:null,phone:null,email:null,info:null},this.$notify({title:"DoDoors",text:"Заказ передан менеджеру!",type:"success"})}).catch(s=>{this.$notify({title:"DoDoors",text:"Ошибочка...",type:"error"})})}}},gt=Object.assign(bt,{__name:"CalcCartSimple",setup(r){return(s,e)=>(o(),d("div",rt,[t("div",nt,[t("h5",at,[s.tab===0?(o(),d("span",it,"Вы выбрали")):n("",!0),s.tab===1?(o(),d("span",lt,"Оформление заказа")):n("",!0)]),dt]),s.tab===0?(o(),d("div",ct,[s.cartProducts.length>0?(o(),d($,{key:0},[(o(!0),d($,null,S(s.cartProducts,a=>(o(),u(ot,{item:a},null,8,["item"]))),256)),ut,t("button",{onClick:e[0]||(e[0]=(...a)=>s.downloadCartExcel&&s.downloadCartExcel(...a)),class:"btn btn-dark rounded-0 w-100 mb-2"}," Скачать в виде Excel-файла "),t("button",{onClick:e[1]||(e[1]=(...a)=>s.clearCart&&s.clearCart(...a)),class:"btn btn-outline-secondary rounded-0 w-100 mb-2"}," Очистить корзину ")],64)):(o(),d("div",ht,ft))])):n("",!0),s.tab===1?(o(),d("div",mt,[s.step===1?(o(),u(_e,{key:0,onCallback:s.back,action:s.action},null,8,["onCallback","action"])):n("",!0)])):n("",!0),s.tab===1?(o(),d("div",vt,[t("button",{type:"button",class:"btn btn-outline-secondary w-100 rounded-0 p-3",onClick:e[2]||(e[2]=(...a)=>s.back&&s.back(...a))},"Назад ")])):n("",!0),s.cartProducts.length>0&&s.tab===0?(o(),d("div",_t,[s.step===0?(o(),d("div",yt,[t("button",{class:"btn btn-success rounded-0 w-100 p-3",onClick:e[3]||(e[3]=a=>s.checkout(0))},"Перейти к оформлению ")])):n("",!0)])):n("",!0)]))}}),kt={class:"min-h-screen bg-gray-100"},wt={class:"bg-white border-b border-gray-100"},$t={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},Ct={class:"flex justify-between h-16"},Ft={class:"flex"},Dt={class:"shrink-0 flex items-center"},Tt={class:"hidden space-x-8 sm:-my-px sm:ms-10 sm:flex"},Et={class:"badge bg-danger ml-1 rounded-full"},It={class:"hidden sm:flex sm:items-center sm:ms-6"},Lt={class:"ms-3 relative"},Pt={class:"inline-flex rounded-0"},St={type:"button",class:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-0 text-gray-500 bg-white hover:text-gray-700 focus:outline-none transition ease-in-out duration-150"},jt=t("svg",{class:"ms-2 -me-0.5 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[t("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1),Vt={class:"-me-2 flex items-center sm:hidden"},qt={class:"h-6 w-6",stroke:"currentColor",fill:"none",viewBox:"0 0 24 24"},zt={class:"pt-2 pb-3 space-y-1"},Mt={class:"pt-4 pb-1 border-t border-gray-200"},Nt={class:"px-4"},Bt={class:"font-medium text-base text-gray-800"},Ot={class:"font-medium text-sm text-gray-500"},Ut={class:"mt-3 space-y-1"},Rt=t("hr",null,null,-1),At={class:"mt-3 space-y-1"},Jt=t("i",{class:"fa-solid fa-lock"},null,-1),Qt=t("i",{class:"fa-solid fa-lock"},null,-1),Gt={key:0,class:"bg-white shadow"},Kt={class:"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8"},Ht=O('<div class="container border-b border-gray-100"><footer class="py-3 my-4"><div class="d-flex justify-center"><img src="/images/logo.jpg" style="width:100px;" alt=""></div><p class="text-center text-muted">© 2025 DoDoors</p></footer></div>',1),Wt={key:0,class:"cart-fixed-btn"},Xt={class:"btn rounded-0 shadow-lg","data-bs-toggle":"offcanvas",href:"#cart",role:"button","aria-controls":"cart"},Yt=t("i",{class:"fa-solid fa-basket-shopping text-primary"},null,-1),Zt={class:"badge text-primary font-bold"},xt={class:"offcanvas offcanvas-start","data-bs-scroll":"true","data-bs-backdrop":"false",tabindex:"-1",id:"main-side-admin-menu","aria-labelledby":"offcanvasExampleLabel"},es=t("div",{class:"offcanvas-header"},[t("h5",{class:"offcanvas-title",id:"offcanvasExampleLabel"}," DoDoors "),t("button",{type:"button",class:"btn-close","data-bs-dismiss":"offcanvas","aria-label":"Close"},[t("i",{class:"fa-solid fa-xmark"})])],-1),ts={class:"offcanvas-body"},ss={class:"row"},os={class:"col-md-6"},rs=t("i",{class:"fa-solid fa-user-tie mr-2"},null,-1),ns={class:"col-md-6"},as=t("i",{class:"fa-solid fa-screwdriver-wrench mr-2"},null,-1),is={class:"py-5"},ls={key:0,class:"d-flex flex-col align-items-center"},ds={key:1,class:"d-flex flex-col align-items-center"},cs={props:["orderId"],data(){return{menuTab:0}},computed:{...D(["getErrors","cartTotalCount","cartProducts"])},mounted(){},methods:{hasRoles(r){return(this.$page.props.auth.roles||[]).includes(r)},can(r){return(this.$page.props.auth.permissions||[]).includes(r)}}},vs=Object.assign(cs,{__name:"AuthenticatedLayout",setup(r){const s=P(!1);return(e,a)=>{const i=B("notifications");return o(),d($,null,[t("div",null,[m(i,{position:"top right"}),t("div",kt,[t("nav",wt,[t("div",$t,[t("div",Ct,[t("div",Ft,[t("div",Dt,[m(C(F),{href:e.route("dashboard")},{default:c(()=>[m(V,{class:"block h-9 w-auto fill-current text-gray-800"})]),_:1},8,["href"])]),t("div",Tt,[e.can("manage-views-adminmenu")?(o(),u(f,{key:0,"data-bs-toggle":"offcanvas",href:"#main-side-admin-menu",role:"button","aria-controls":"main-side-admin-menu"},{default:c(()=>[l(" Админ.меню ")]),_:1})):n("",!0),m(f,{href:e.route("dashboard"),active:e.route().current("dashboard")},{default:c(()=>[l(" Главная ")]),_:1},8,["href","active"]),e.cartTotalCount>0?(o(),u(f,{key:1,href:e.route("basket"),active:e.route().current("basket")},{default:c(()=>[l(" Корзина "),t("span",Et,h(e.cartTotalCount),1)]),_:1},8,["href","active"])):n("",!0)])]),t("div",It,[t("div",Lt,[m(G,{align:"right",width:"48"},{trigger:c(()=>[t("span",Pt,[t("button",St,[l(h(e.$page.props.auth.user.name)+" ",1),jt])])]),content:c(()=>[m(L,{href:e.route("profile.edit")},{default:c(()=>[l(" Профиль")]),_:1},8,["href"]),m(L,{href:e.route("logout"),method:"post",as:"button"},{default:c(()=>[l(" Выход ")]),_:1},8,["href"])]),_:1})])]),t("div",Vt,[t("button",{onClick:a[0]||(a[0]=p=>s.value=!s.value),class:"inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:bg-gray-100 focus:text-gray-500 transition duration-150 ease-in-out"},[(o(),d("svg",qt,[t("path",{class:y({hidden:s.value,"inline-flex":!s.value}),"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"},null,2),t("path",{class:y({hidden:!s.value,"inline-flex":s.value}),"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"},null,2)]))])])])]),t("div",{class:y([{block:s.value,hidden:!s.value},"sm:hidden"])},[t("div",zt,[m(_,{href:e.route("dashboard"),active:e.route().current("dashboard")},{default:c(()=>[l(" Главная страница ")]),_:1},8,["href","active"])]),t("div",Mt,[t("div",Nt,[t("div",Bt,h(e.$page.props.auth.user.name),1),t("div",Ot,h(e.$page.props.auth.user.email),1)]),t("div",Ut,[m(_,{href:e.route("profile.edit")},{default:c(()=>[l(" Профиль")]),_:1},8,["href"]),m(_,{href:e.route("logout"),method:"post",as:"button"},{default:c(()=>[l(" Выход ")]),_:1},8,["href"]),Rt]),t("div",At,[e.can("manage-users")?(o(),u(_,{key:0,class:"p-3",href:e.route("users"),active:e.route().current("users")},{default:c(()=>[l(" Пользователи ")]),_:1},8,["href","active"])):n("",!0),e.can("manage-clients")?(o(),u(_,{key:1,class:"p-3"},{default:c(()=>[l(" Клиенты "),Jt]),_:1})):n("",!0),e.can("manage-orders")?(o(),u(_,{key:2,class:"p-3"},{default:c(()=>[l(" Заказы "),Qt]),_:1})):n("",!0),e.can("manage-materials")?(o(),u(_,{key:3,class:"p-3",href:e.route("materials"),active:e.route().current("materials")},{default:c(()=>[l(" Материалы ")]),_:1},8,["href","active"])):n("",!0),e.can("manage-handles")?(o(),u(_,{key:4,class:"p-3",href:e.route("handles"),active:e.route().current("handles")},{default:c(()=>[l(" Ручки ")]),_:1},8,["href","active"])):n("",!0),e.can("manage-hinges")?(o(),u(_,{key:5,class:"p-3",href:e.route("hinges"),active:e.route().current("hinges")},{default:c(()=>[l(" Петли ")]),_:1},8,["href","active"])):n("",!0),e.can("manage-door-variants")?(o(),u(_,{key:6,class:"p-3",href:e.route("door-variants"),active:e.route().current("door-variants")},{default:c(()=>[l(" Типы дверей ")]),_:1},8,["href","active"])):n("",!0),e.can("manage-colors")?(o(),u(_,{key:7,class:"p-3",href:e.route("colors"),active:e.route().current("colors")},{default:c(()=>[l(" Цвета ")]),_:1},8,["href","active"])):n("",!0),e.can("manage-sizes")?(o(),u(_,{key:8,class:"p-3",href:e.route("sizes"),active:e.route().current("sizes")},{default:c(()=>[l(" Размеры ")]),_:1},8,["href","active"])):n("",!0)])])],2)]),e.$slots.header?(o(),d("header",Gt,[t("div",Kt,[g(e.$slots,"header")])])):n("",!0),t("main",null,[g(e.$slots,"default")])])]),Ht,e.cartTotalCount>0?(o(),d("div",Wt,[t("a",Xt,[Yt,t("span",Zt,h(e.cartTotalCount)+" шт.",1)])])):n("",!0),m(gt,{"order-id":r.orderId},null,8,["order-id"]),t("div",xt,[es,t("div",ts,[t("div",ss,[t("div",os,[t("button",{class:y(["btn w-100 rounded-0",{"btn-dark":e.menuTab===0,"btn-outline-secondary":e.menuTab!==0}]),onClick:a[1]||(a[1]=p=>e.menuTab=0)},[rs,l("Общее ")],2)]),t("div",ns,[t("button",{class:y(["btn w-100 rounded-0",{"btn-dark":e.menuTab===1,"btn-outline-secondary":e.menuTab!==1}]),onClick:a[2]||(a[2]=p=>e.menuTab=1)},[as,l("Админ ")],2)])]),t("div",is,[e.menuTab===0?(o(),d("nav",ls,[e.can("manage-calc")?(o(),u(f,{key:0,class:"p-3",href:e.route("calc"),active:e.route().current("calc")},{default:c(()=>[l(" Калькулятор ")]),_:1},8,["href","active"])):n("",!0),e.can("manage-clients")?(o(),u(f,{key:1,class:"p-3",href:e.route("clients"),active:e.route().current("clients")},{default:c(()=>[l(" Клиенты ")]),_:1},8,["href","active"])):n("",!0),e.can("manage-clients")?(o(),u(f,{key:2,class:"p-3",href:e.route("documents"),active:e.route().current("documents")},{default:c(()=>[l(" Договора (Документы) ")]),_:1},8,["href","active"])):n("",!0),e.can("manage-orders")?(o(),u(f,{key:3,class:"p-3",href:e.route("orders"),active:e.route().current("orders")},{default:c(()=>[l(" Заказы ")]),_:1},8,["href","active"])):n("",!0),e.can("manage-promo-codes")?(o(),u(f,{key:4,class:"p-3",href:e.route("promo-codes"),active:e.route().current("promo-codes")},{default:c(()=>[l(" Промокоды ")]),_:1},8,["href","active"])):n("",!0)])):n("",!0),e.menuTab===1?(o(),d("nav",ds,[e.can("manage-users")?(o(),u(f,{key:0,class:"p-3",href:e.route("users"),active:e.route().current("users")},{default:c(()=>[l(" Пользователи ")]),_:1},8,["href","active"])):n("",!0),e.can("manage-roles")?(o(),u(f,{key:1,class:"p-3",href:e.route("roles"),active:e.route().current("roles")},{default:c(()=>[l(" Роли пользователей ")]),_:1},8,["href","active"])):n("",!0),e.can("manage-permissions")?(o(),u(f,{key:2,class:"p-3",href:e.route("permissions"),active:e.route().current("permissions")},{default:c(()=>[l(" Разрешения пользователей ")]),_:1},8,["href","active"])):n("",!0),e.can("manage-services")?(o(),u(f,{key:3,class:"p-3",href:e.route("services"),active:e.route().current("services")},{default:c(()=>[l(" Сервисы ")]),_:1},8,["href","active"])):n("",!0),e.can("manage-materials")?(o(),u(f,{key:4,class:"p-3",href:e.route("materials"),active:e.route().current("materials")},{default:c(()=>[l(" Материалы ")]),_:1},8,["href","active"])):n("",!0),e.can("manage-handles")?(o(),u(f,{key:5,class:"p-3",href:e.route("handles"),active:e.route().current("handles")},{default:c(()=>[l(" Ручки ")]),_:1},8,["href","active"])):n("",!0),e.can("manage-hinges")?(o(),u(f,{key:6,class:"p-3",href:e.route("hinges"),active:e.route().current("hinges")},{default:c(()=>[l(" Петли ")]),_:1},8,["href","active"])):n("",!0),e.can("manage-door-variants")?(o(),u(f,{key:7,class:"p-3",href:e.route("door-variants"),active:e.route().current("door-variants")},{default:c(()=>[l(" Типы дверей ")]),_:1},8,["href","active"])):n("",!0),e.can("manage-colors")?(o(),u(f,{key:8,class:"p-3",href:e.route("colors"),active:e.route().current("colors")},{default:c(()=>[l(" Цвета ")]),_:1},8,["href","active"])):n("",!0),e.can("manage-sizes")?(o(),u(f,{key:9,class:"p-3",href:e.route("sizes"),active:e.route().current("sizes")},{default:c(()=>[l(" Размеры ")]),_:1},8,["href","active"])):n("",!0)])):n("",!0)])])])],64)}}});export{vs as _,_e as a};
