import{m as O,o as r,c,b as t,f as v,t as F,e as h,F as k,p as f,g as m,h as S,v as y,r as M,x as R,l as E,s as U}from"./app-D6KpZyNm.js";import{_ as D}from"./_plugin-vue_export-helper-DlAUqK2U.js";const B={props:["modelValue","disabled"],data(){return{blocks:{install:!0,designer:!0,delivery:!0,develop:!0,price:!0,price_type_attention:!0},need_promo:!1,flgDays:!0,discount:0,clientForm:null,delivery_services:[]}},mounted(){if(localStorage.getItem("dodoors_cart_checkout_blocks")){const s=JSON.parse(localStorage.getItem("dodoors_cart_checkout_blocks")),o=Object.keys(this.blocks).length||0,b=Object.keys(s).length||0;console.log("keysCountOriginal",o),console.log("keysCountSaved",b),o===b?this.blocks=s:localStorage.setItem("dodoors_cart_checkout_blocks",JSON.stringify(this.blocks))}this.clientForm=this.modelValue,console.log("this.clientForm.summary_price_type",this.clientForm.summary_price_type),this.clientForm.summary_price_type||this.getDictionary.price_type_variants.forEach(s=>{s.key==="retail"&&(this.clientForm.summary_price_type=s)}),this.selectPayedPercentType(1),this.loadServicesByType()},computed:{...O(["getErrors","getDictionary","cartTotalCount","cartTotalPrice","cartProducts"]),designerPrice(){let s=0;return this.cartProducts.forEach(o=>{s+=o.product.base_price||0}),this.clientForm.designer.price=(s*this.clientForm.designer.value/100).toFixed(2),this.clientForm.designer.price}},watch:{discount:{handler(s){this.modelValue.discount_data={discount_percent:this.discount,discount_amount:Math.round(this.cartTotalPrice*this.discount/100)},this.changeDiscount()},deep:!0},blocks:{handler(s){localStorage.setItem("dodoors_cart_checkout_blocks",JSON.stringify(this.blocks))},deep:!0},need_promo:{handler(s){this.need_promo&&(this.discount=0)},deep:!0},"clientForm.dealer_percent":{handler(s){this.recountPrices()},deep:!0},clientForm:{handler(s){!this.clientForm.designer.is_fix&&this.clientForm.designer.value>100&&(this.clientForm.designer.value=30),this.$emit("update:modelValue",this.clientForm)},deep:!0}},methods:{changeDiscount(){const s=Math.round(this.cartTotalPrice*this.discount/100);this.clientForm.current_payed=Math.max(0,Math.round((this.cartTotalPrice-s)*this.clientForm.payed_percent/100))},recountPrices(){const s=this.clientForm.dealer_percent||0,o=this.clientForm.summary_price_type;let b=this.cartProducts;const x=this.getDictionary;let e=0,_=null,l=[],d=o.key,T=C=>Math.round(parseInt(C)/10)*10;b.forEach(C=>{var q;const n=C.product;let j=i=>{let a=typeof n.door_type.price=="object"?n.door_type.price[d]:n.door_type.price,p=n.door_type.id!==3?1:.8,u=n.door_type.need_percent_price?i*a/100:i*p+a;return l.push({type:"door_type",price:(u||0)>0?u:i}),(u||0)>0?u:i};Object.keys(n).forEach(i=>{let a=!1;if(i&&typeof n[i]=="object"&&n[i]!=null&&i!=="door_type"){if(i==="opening_type"&&n[i].sizes){a=!0;let p=n[i].sizes.findIndex(P=>P.width==n.width&&P.height==n.height),u=p===-1?0:n[i].sizes[p].price[d];e+=parseInt(u||0),console.log("opening_type",u,i),l.push({type:i,price:u})}if(i.indexOf("_color")!==-1&&n[i].sizes&&!a){a=!0;let p=(n[i]||{excludes:[]}).excludes.indexOf(i.substring(0,i.indexOf("_color")))!==-1,u=0;if(!n[i].assign_with_size)u=p?0:n[i].sizes[0].price[d];else{let P=n[i].sizes.findIndex(I=>I.width==n.width&&I.height==n.height);u=P===-1||p?0:n[i].sizes[P].price[d]}e+=parseInt(u||0),l.push({type:i,price:u})}if(i==="hinge_manufacturer"&&n[i].title!=null&&!a){a=!0;let p=n[i].price[d],u=0;n.size&&(u=n.size.loops.count*p),e+=parseInt(u||0),l.push({type:i,price:p,full_price:u})}if(i==="size"&&n[i].loops.price&&!a){a=!0;let p=n[i].loops.price[d];e+=parseInt(p||0),l.push({type:i,price:p})}if(i==="service_painting"&&n[i].title!=null&&!a){a=!0;let p=n.fittings_color.is_ral?n[i].price[d]:0,u=0;n.size&&(u=(n.size.loops.count+1)*p),e+=u||0,l.push({type:i,price:p,full_price:u})}if(n[i].price&&!a){let p=typeof n[i].price=="object"?n[i].price[d]||0:n[i].price||0;e+=parseInt(p||0),l.push({type:i,price:p})}}});let w=x.prices,g=0,z=!1,V=null;if(w.forEach(i=>{i.width===n.width&&i.height===n.height&&(z=!0,V=i)}),z){_=V.materials.find(a=>a.is_base)||{price:{wholesale:0,dealer:0,retail:0,cost:0}};let i=typeof _.price=="object"?_.price[d]:_.price;l.push({type:"base",price:i}),g=parseInt(j(i)),V.materials.forEach(a=>{if(a.id===n.front_side_finish.id&&!n.front_side_finish.is_base){let p=typeof a.price=="object"?a.price[d]:a.price;g+=p,this.ces.push({type:"front_side_finish",price:p})}if(a.id===n.back_side_finish.id&&!n.back_side_finish.is_base){let p=typeof a.price=="object"?a.price[d]:a.price;g+=p,l.push({type:"back_side_finish",price:p})}})}else for(let i=0;i<w.length;i++)if(w[i].width>=n.width&&w[i].height>=n.height){_=w[i].materials.find(p=>p.is_base)||{price:{wholesale:0,dealer:0,retail:0,cost:0}};let a=typeof _.price=="object"?_.price[d]:_.price;l.push({type:"base",price:a}),g=parseInt(j(a)),w[i].materials.forEach(p=>{if(p.id===n.front_side_finish.id&&!n.front_side_finish.is_base){let u=typeof p.price=="object"?p.price[d]:p.price;g+=u,l.push({type:"front_side_finish",price:u})}}),w[i].materials.forEach(p=>{if(p.id===n.back_side_finish.id&&!n.back_side_finish.is_base){let u=typeof p.price=="object"?p.price[d]:p.price;g+=u,l.push({type:"back_side_finish",price:u})}});break}n.price=s===0?T(e+g):Math.round((T(e+g)||0)*(1+(s||0)/100)),n.base_price=((q=l.find(i=>i.type==="door_type"))==null?void 0:q.price)||0}),this.$store.dispatch("updateCartItems",b),this.changePayedPercent()},selectPriceType(s){this.clientForm.summary_price_type=s,this.recountPrices(),this.changePayedPercent()},loadServicesByType(){this.$store.dispatch("loadServicesByType",{type:"service_delivery"}).then(s=>{this.delivery_services=s.data||[]}).catch(()=>{})},selectPayedPercentType(s){switch(this.clientForm.payed_percent_type=s,s){case 0:this.clientForm.payed_percent=50;break;default:case 1:this.clientForm.payed_percent=70;break;case 2:this.clientForm.payed_percent=100;break}this.changePayedPercent()},hasRoles(s){let o=!1;return typeof s=="object"?this.$page.props.auth.roles.forEach(b=>{o=o||s.includes(b)}):this.$page.props.auth.roles.includes(s),o},changeCurrentPayed(){this.clientForm.payed_percent=Math.round(this.clientForm.current_payed/this.cartTotalPrice*100)},changePayedPercent(){this.clientForm.current_payed=Math.round(this.cartTotalPrice*this.clientForm.payed_percent/100),this.changeDiscount()},selectDeliveryVariant(s){var e;this.clientForm.info=s.title,this.clientForm.delivery_service=s.title,this.clientForm.delivery_price=((e=s.price)==null?void 0:e.retail)||0;const o=s.title,b=/г\.\s*([А-Яа-яЁё\- ]+)/,x=o.match(b);x&&(this.clientForm.delivery_city=x[1].trim())},findPromo(){this.discount=0,!((this.clientForm.promo||"").length<=5)&&this.$store.dispatch("findPromoCode",{code:this.clientForm.promo}).then(s=>{this.discount=s.discount||0})}}},N={class:"font-bold d-flex justify-content-between align-items-center mb-2"},J={key:0},L={key:0,class:"fa-regular fa-square-plus"},G={key:1,class:"fa-regular fa-square-minus"},K={class:"form-check form-switch my-2"},A={class:"form-check-label",for:"need_promo_switcher"},H={key:0,class:"form-floating mb-2"},Q=t("label",{for:"checkout-promo"},"Скидка, %",-1),W={key:1,class:"form-floating mb-2"},X=t("label",{for:"checkout-promo"},"Промокод",-1),Y={key:1},Z=t("p",null,[t("small",null,"Начальная внесенная покупателем сумма")],-1),$={class:"form-floating mb-2"},ee=t("label",{for:"checkout-name"},"Начальная сумма, руб",-1),te=t("p",null,[t("small",null,"Процент внесенной суммы от полной стоимости")],-1),oe={class:"my-2"},le={class:"form-floating mb-2"},ie=t("label",{for:"checkout-name"},"%",-1),ne={class:"mb-2 fw-bold d-flex justify-content-between align-items-center"},se={key:0,class:"fa-regular fa-square-plus"},re={key:1,class:"fa-regular fa-square-minus"},ce={class:"form-check form-switch"},de=t("label",{class:"form-check-label",for:"flexSwitchCheckDefault"},"Указать кол-во рабочих дней / Выбрать конкретную дату",-1),pe={key:0,class:"form-floating mb-2"},ae=t("label",{for:"checkout-name"},"Кол-во рабочих дней",-1),ue={key:1,class:"form-floating mb-2"},me=t("label",{for:"checkout-name"},"Срок передачи товара покупателю",-1),_e={class:"mb-2 fw-bold d-flex justify-content-between align-items-center"},he={key:0,class:"fa-regular fa-square-plus"},ye={key:1,class:"fa-regular fa-square-minus"},fe={class:"my-2"},be=t("h6",{class:"mb-2 fw-bold"},"Информация по доставке",-1),ke={class:"form-floating mb-2"},ve=t("label",{for:"delivery-price"},"Сумма за доставку",-1),ge={class:"input-group mb-2"},Fe={class:"form-floating"},xe=t("label",{for:"delivery-city"},"Город доставки",-1),we={class:"input-group-text rounded-0 border-secondary"},Pe={class:"dropdown"},Ce=t("button",{class:"btn btn-light",type:"button",id:"dropdownMenuButton","data-bs-toggle":"dropdown","aria-expanded":"false"},[t("i",{class:"fa-solid fa-map-location-dot"})],-1),Ve={class:"dropdown-menu",style:{"max-height":"200px","overflow-y":"scroll"},"aria-labelledby":"dropdownMenuButton"},Ue=["onClick"],De={class:"dropdown-item",href:"#"},Te={class:"form-floating mb-2"},je=t("label",{for:"delivery-address"},"Адрес доставки",-1),ze={key:0,class:"alert alert-light rounded-0 border-black"},qe=t("i",{class:"fa-solid fa-xmark"},null,-1),Ie=t("p",{class:"mb-2"},"Подъем на этаж",-1),Se={class:"my-2"},Me={class:"mb-2 fw-bold d-flex justify-content-between align-items-center"},Ee={key:0,class:"fa-regular fa-square-plus"},Oe={key:1,class:"fa-regular fa-square-minus"},Re={key:3,class:"my-2"},Be={class:"form-floating mb-2"},Ne=t("label",{for:"installation-count"},"Дверей к установке",-1),Je=t("p",{style:{"font-size":"10px"}},"Производить расчет цены",-1),Le={class:"form-floating my-2"},Ge={for:"installation-price"},Ke={key:0},Ae={key:1},He={class:"mb-2 fw-bold d-flex justify-content-between align-items-center"},Qe={key:0,class:"fa-regular fa-square-plus"},We={key:1,class:"fa-regular fa-square-minus"},Xe={class:"my-2 d-flex justify-content-between align-items-center"},Ye={key:0},Ze={key:1},$e={class:"form-floating mb-2"},et={for:"installation-count"},tt={key:0},ot={key:1},lt={key:0},it={class:"form-floating mb-2"},nt=t("label",{for:"dealer-percent"},"Процент дилера, %",-1),st={key:7,class:"alert alert-light rounded-0 mb-2"},rt=t("strong",{class:"fw-bold"},"Внимание!",-1),ct={class:"btn-group w-100 mb-2"},dt=["disabled"],pt={type:"button",style:{width:"70px"},class:"btn btn-outline-dark rounded-0 p-3 dropdown-toggle dropdown-toggle-split","data-bs-toggle":"dropdown","aria-expanded":"false"},at={key:0},ut={key:1},mt={class:"dropdown-menu rounded-0"},_t=["onClick"],ht=["disabled"];function yt(s,o,b,x,e,_){return e.clientForm?(r(),c(k,{key:0},[t("h6",N,[t("span",null,[v(" Итого цена "+F(Math.round(s.cartTotalPrice*(1-e.discount/100)))+" ₽ ",1),e.discount>0?(r(),c("span",J,"(скидка "+F(e.discount)+"%)",1)):h("",!0)]),t("span",{onClick:o[0]||(o[0]=l=>e.blocks.price=!e.blocks.price)},[e.blocks.price?(r(),c("i",G)):(r(),c("i",L))])]),e.blocks.price?(r(),c(k,{key:0},[t("div",K,[t("label",A,[t("span",{class:f({"fw-bold":!e.need_promo})},"скидка",2),v(" \\ "),t("span",{class:f({"fw-bold":e.need_promo})},"промокод",2)]),m(t("input",{"onUpdate:modelValue":o[1]||(o[1]=l=>e.need_promo=l),class:"form-check-input",type:"checkbox",role:"switch",id:"need_promo_switcher"},null,512),[[S,e.need_promo]])]),e.need_promo?h("",!0):(r(),c("div",H,[m(t("input",{type:"text",class:"form-control","onUpdate:modelValue":o[2]||(o[2]=l=>e.discount=l),id:"checkout-promo",placeholder:"name@example.com"},null,512),[[y,e.discount]]),Q])),e.need_promo?(r(),c("div",W,[m(t("input",{type:"text",class:"form-control",onKeyup:o[3]||(o[3]=(...l)=>_.findPromo&&_.findPromo(...l)),"onUpdate:modelValue":o[4]||(o[4]=l=>e.clientForm.promo=l),id:"checkout-promo",placeholder:"name@example.com"},null,544),[[y,e.clientForm.promo]]),X])):h("",!0)],64)):h("",!0),_.hasRoles(["manager","administrator"])?(r(),c("div",Y,[e.blocks.price?(r(),c(k,{key:0},[Z,t("div",$,[m(t("input",{type:"text",class:"form-control",onChange:o[5]||(o[5]=(...l)=>_.changeCurrentPayed&&_.changeCurrentPayed(...l)),"onUpdate:modelValue":o[6]||(o[6]=l=>e.clientForm.current_payed=l),id:"checkout-name",placeholder:"",required:""},null,544),[[y,e.clientForm.current_payed]]),ee]),te,t("p",oe,[t("span",{onClick:o[7]||(o[7]=l=>_.selectPayedPercentType(0)),class:f([{"btn-dark text-white":e.clientForm.payed_percent_type===0},"btn btn-outline-secondary text-black rounded-0 mr-2"]),style:{"font-size":"10px"}},"50\\50",2),t("span",{onClick:o[8]||(o[8]=l=>_.selectPayedPercentType(1)),class:f([{"btn-dark text-white":e.clientForm.payed_percent_type===1},"btn btn-outline-secondary text-black rounded-0 mr-2"]),style:{"font-size":"10px"}},"70\\30",2),t("span",{onClick:o[9]||(o[9]=l=>_.selectPayedPercentType(2)),class:f([{"btn-dark text-white":e.clientForm.payed_percent_type===2},"btn btn-outline-secondary text-black rounded-0 mr-2"]),style:{"font-size":"10px"}},"100% предоплата",2)]),t("div",le,[m(t("input",{type:"text",class:"form-control",onChange:o[10]||(o[10]=(...l)=>_.changePayedPercent&&_.changePayedPercent(...l)),"onUpdate:modelValue":o[11]||(o[11]=l=>e.clientForm.payed_percent=l),id:"checkout-name",placeholder:"name@example.com",required:""},null,544),[[y,e.clientForm.payed_percent]]),ie])],64)):h("",!0),t("h6",ne,[v("Срок изготовления "),t("span",{onClick:o[12]||(o[12]=l=>e.blocks.develop=!e.blocks.develop)},[e.blocks.develop?(r(),c("i",re)):(r(),c("i",se))])]),e.blocks.develop?(r(),c(k,{key:1},[t("div",ce,[m(t("input",{onClick:o[13]||(o[13]=l=>e.flgDays=!e.flgDays),"onUpdate:modelValue":o[14]||(o[14]=l=>e.flgDays=l),class:"form-check-input",type:"checkbox",role:"switch",id:""},null,512),[[S,e.flgDays]]),de]),e.flgDays?(r(),c("div",pe,[m(t("input",{type:"text",class:"form-control","onUpdate:modelValue":o[15]||(o[15]=l=>e.clientForm.work_days=l),id:"checkout-name",placeholder:"name@example.com",required:""},null,512),[[y,e.clientForm.work_days]]),ae])):(r(),c("div",ue,[m(t("input",{type:"date",class:"form-control","onUpdate:modelValue":o[16]||(o[16]=l=>e.clientForm.delivery_terms=l),id:"checkout-name",placeholder:"name@example.com",required:""},null,512),[[y,e.clientForm.delivery_terms]]),me]))],64)):h("",!0),t("h6",_e,[v("Доставка "),t("span",{onClick:o[17]||(o[17]=l=>e.blocks.delivery=!e.blocks.delivery)},[e.blocks.delivery?(r(),c("i",ye)):(r(),c("i",he))])]),e.blocks.delivery?(r(),c(k,{key:2},[t("div",fe,[t("button",{type:"button",onClick:o[18]||(o[18]=l=>e.clientForm.delivery_type=0),class:f([{"btn-dark text-white":e.clientForm.delivery_type===0},"btn btn-outline-secondary text-black rounded-0 mr-2 mb-2"])},"Доставка до адреса ",2),t("button",{type:"button",onClick:o[19]||(o[19]=l=>e.clientForm.delivery_type=1),class:f([{"btn-dark text-white":e.clientForm.delivery_type===1},"btn btn-outline-secondary text-black rounded-0 mr-2 mb-2"])},"Самовывоз ",2),t("button",{type:"button",onClick:o[20]||(o[20]=l=>e.clientForm.delivery_type=2),class:f([{"btn-dark text-white":e.clientForm.delivery_type===2},"btn btn-outline-secondary text-black rounded-0 mr-2 mb-2"])},"ТК ",2),t("button",{type:"button",onClick:o[21]||(o[21]=l=>e.clientForm.delivery_type=3),class:f([{"btn-dark text-white":e.clientForm.delivery_type===3},"btn btn-outline-secondary text-black rounded-0 mr-2 mb-2"])},"Доставка до проходной ",2)]),e.clientForm.delivery_type===0?(r(),c(k,{key:0},[be,t("div",ke,[m(t("input",{type:"number",min:"0",class:"form-control","onUpdate:modelValue":o[22]||(o[22]=l=>e.clientForm.delivery_price=l),id:"delivery-price",placeholder:"name@example.com",required:""},null,512),[[y,e.clientForm.delivery_price]]),ve]),t("div",ge,[t("div",Fe,[m(t("input",{type:"text",class:"form-control","onUpdate:modelValue":o[23]||(o[23]=l=>e.clientForm.delivery_city=l),id:"delivery-city",placeholder:"name@example.com"},null,512),[[y,e.clientForm.delivery_city]]),xe]),t("span",we,[t("div",Pe,[Ce,t("ul",Ve,[(r(!0),c(k,null,M(e.delivery_services,l=>(r(),c("li",{onClick:d=>_.selectDeliveryVariant(l)},[t("a",De,F(l.title||"-"),1)],8,Ue))),256))])])])]),t("div",Te,[m(t("input",{type:"text",class:"form-control","onUpdate:modelValue":o[24]||(o[24]=l=>e.clientForm.delivery_address=l),id:"delivery-address",placeholder:"name@example.com"},null,512),[[y,e.clientForm.delivery_address]]),je]),e.clientForm.delivery_service?(r(),c("p",ze,[t("span",null,F(e.clientForm.delivery_service),1),t("a",{href:"javascript:void(0)",class:"d-block p-0 m-0 text-danger",style:{"font-size":"10px"},onClick:o[25]||(o[25]=l=>e.clientForm.delivery_service=null)},[qe,v(" убрать сервис")])])):h("",!0),Ie,t("div",Se,[t("button",{type:"button",onClick:o[26]||(o[26]=l=>e.clientForm.ascent_floor=!0),class:f([{"btn-dark text-white":e.clientForm.ascent_floor===!0},"btn btn-outline-secondary text-black rounded-0 mr-2"])},"Нужен ",2),t("button",{type:"button",onClick:o[27]||(o[27]=l=>e.clientForm.ascent_floor=!1),class:f([{"btn-dark text-white":e.clientForm.ascent_floor===!1},"btn btn-outline-secondary text-black rounded-0 mr-2"])},"Не нужен ",2)])],64)):h("",!0)],64)):h("",!0),t("h6",Me,[v("Установка "),t("span",{onClick:o[28]||(o[28]=l=>e.blocks.install=!e.blocks.install)},[e.blocks.install?(r(),c("i",Oe)):(r(),c("i",Ee))])]),e.blocks.install?(r(),c("div",Re,[t("button",{type:"button",onClick:o[29]||(o[29]=l=>e.clientForm.installation.need_door_install=!0),class:f([{"btn-dark text-white":e.clientForm.installation.need_door_install===!0},"btn btn-outline-secondary text-black rounded-0 mr-2"])},"Нужна ",2),t("button",{type:"button",onClick:o[30]||(o[30]=l=>e.clientForm.installation.need_door_install=!1),class:f([{"btn-dark text-white":e.clientForm.installation.need_door_install===!1},"btn btn-outline-secondary text-black rounded-0 mr-2"])},"Не нужна ",2)])):h("",!0),e.clientForm.installation.need_door_install?(r(),c(k,{key:4},[t("div",Be,[m(t("input",{type:"number",class:"form-control","onUpdate:modelValue":o[31]||(o[31]=l=>e.clientForm.installation.count=l),id:"installation-count",placeholder:"name@example.com"},null,512),[[y,e.clientForm.installation.count]]),Ne]),Je,t("button",{type:"button",onClick:o[32]||(o[32]=l=>e.clientForm.installation.recount_type=0),style:{"font-size":"10px"},class:f([{"btn-dark text-white":e.clientForm.installation.recount_type===0},"btn btn-outline-secondary text-black rounded-0 mr-2"])},"Суммарно ",2),t("button",{type:"button",style:{"font-size":"10px"},onClick:o[33]||(o[33]=l=>e.clientForm.installation.recount_type=1),class:f([{"btn-dark text-white":e.clientForm.installation.recount_type===1},"btn btn-outline-secondary text-black rounded-0 mr-2"])},"За единицу ",2),t("div",Le,[m(t("input",{type:"number",class:"form-control","onUpdate:modelValue":o[34]||(o[34]=l=>e.clientForm.installation.price=l),id:"installation-price",placeholder:"name@example.com"},null,512),[[y,e.clientForm.installation.price]]),t("label",Ge,[v("Цена за установку, руб "),e.clientForm.installation.recount_type===1?(r(),c("span",Ke,"(за единицу)")):h("",!0),e.clientForm.installation.recount_type===0?(r(),c("span",Ae,"(суммарно)")):h("",!0)])])],64)):h("",!0),t("h6",He,[v("Работа дизайнера "),t("span",{onClick:o[35]||(o[35]=l=>e.blocks.designer=!e.blocks.designer)},[e.blocks.designer?(r(),c("i",We)):(r(),c("i",Qe))])]),e.blocks.designer?(r(),c(k,{key:5},[t("div",Xe,[t("div",null,[t("button",{type:"button",onClick:o[36]||(o[36]=l=>e.clientForm.designer.is_fix=!0),class:f([{"btn-dark text-white":e.clientForm.designer.is_fix===!0},"btn btn-outline-secondary text-black rounded-0 mr-2"])},"Фикс ",2),t("button",{type:"button",onClick:o[37]||(o[37]=l=>e.clientForm.designer.is_fix=!1),class:f([{"btn-dark text-white":e.clientForm.designer.is_fix===!1},"btn btn-outline-secondary text-black rounded-0 mr-2"])},"Процент ",2)]),e.clientForm.designer.is_fix?h("",!0):(r(),c("span",Ye,F(_.designerPrice)+" руб",1)),e.clientForm.designer.is_fix?(r(),c("span",Ze,F(e.clientForm.designer.value)+" руб",1)):h("",!0)]),t("div",$e,[m(t("input",{type:"number",class:"form-control","onUpdate:modelValue":o[38]||(o[38]=l=>e.clientForm.designer.value=l),id:"designer-value",placeholder:"name@example.com"},null,512),[[y,e.clientForm.designer.value]]),t("label",et,[e.clientForm.designer.is_fix?(r(),c("span",tt,"Фиксированная оплата, руб")):h("",!0),e.clientForm.designer.is_fix?h("",!0):(r(),c("span",ot,"Процент за работу, %"))])])],64)):h("",!0),R(s.$slots,"loader"),e.clientForm.summary_price_type?(r(),c(k,{key:6},[e.clientForm.summary_price_type.id===3?(r(),c("div",lt,[t("div",it,[m(t("input",{type:"number",min:"0",max:"100","onUpdate:modelValue":o[39]||(o[39]=l=>e.clientForm.dealer_percent=l),class:"form-control text-left",id:"dealer-percent",required:""},null,512),[[y,e.clientForm.dealer_percent]]),nt])])):h("",!0)],64)):h("",!0),e.blocks.price_type_attention?(r(),c("p",st,[rt,v(" При смене типа цены будет проведен перерасчет всех цен на двери и изменены значения начальной внесенной суммы для покупателя "),t("a",{onClick:o[40]||(o[40]=l=>e.blocks.price_type_attention=!1),style:{"font-size":"10px"},class:"d-block text-danger",href:"javascript:void(0)"},"Скрыть и больше не показывать")])):h("",!0),t("div",ct,[t("button",{type:"submit",disabled:b.disabled,class:"btn btn-dark rounded-0 p-3"},"Отправить ",8,dt),t("button",pt,[e.clientForm.summary_price_type?(r(),c("span",ut,F(e.clientForm.summary_price_type.title||"-"),1)):(r(),c("span",at,"Тип цены"))]),t("ul",mt,[(r(!0),c(k,null,M(s.getDictionary.price_type_variants,l=>(r(),c("li",null,[t("a",{onClick:d=>_.selectPriceType(l),class:"dropdown-item",href:"javascript:void(0)"},F(l.title||"-"),9,_t)]))),256))])])])):(r(),c("button",{key:2,disabled:b.disabled,class:"btn btn-dark w-100 my-2 rounded-0 p-3"},"Отправить ",8,ht))],64)):h("",!0)}const Yt=D(B,[["render",yt]]),ft={props:["modelValue"],data(){return{clientForm:null}},watch:{clientForm:{handler(s){this.$emit("update:modelValue",this.clientForm)},deep:!0}},mounted(){this.clientForm=this.modelValue}},bt={class:"form-floating mb-2"},kt=t("label",{for:"checkout-phone"},"Номер телефона",-1),vt={class:"form-floating mb-2"},gt=t("label",{for:"checkout-email"},"Электронная почта",-1),Ft={class:"form-floating"},xt=t("label",{for:"checkout-info"},"Дополнительная информация",-1),wt={class:"row my-2"},Pt={class:"col-md-4"},Ct={class:"form-check"},Vt=t("label",{class:"form-check-label",for:"work-with-nds"}," С НДС ",-1),Ut={class:"col-md-4"},Dt={class:"form-check"},Tt=t("label",{class:"form-check-label",for:"work-without-nds"}," Без НДС ",-1),jt={class:"col-md-4"},zt={class:"form-check"},qt=t("label",{class:"form-check-label",for:"work-without-nds"}," Физ-лицо ",-1);function It(s,o,b,x,e,_){const l=E("mask");return e.clientForm?(r(),c(k,{key:0},[t("div",bt,[m(t("input",{type:"text",class:"form-control","onUpdate:modelValue":o[0]||(o[0]=d=>e.clientForm.phone=d),id:"checkout-phone",placeholder:"name@example.com",required:""},null,512),[[l,"+7(###)###-##-##"],[y,e.clientForm.phone]]),kt]),t("div",vt,[m(t("input",{type:"email",class:"form-control","onUpdate:modelValue":o[1]||(o[1]=d=>e.clientForm.email=d),id:"checkout-email",placeholder:"name@example.com"},null,512),[[y,e.clientForm.email]]),gt]),t("div",Ft,[m(t("textarea",{class:"form-control border-secondary rounded-0","onUpdate:modelValue":o[2]||(o[2]=d=>e.clientForm.info=d),placeholder:"Оставьте свой комментарий",id:"checkout-info"},null,512),[[y,e.clientForm.info]]),xt]),t("div",wt,[t("div",Pt,[t("div",Ct,[m(t("input",{class:"form-check-input",type:"radio",value:"1","onUpdate:modelValue":o[3]||(o[3]=d=>e.clientForm.work_with_nds=d),name:"flexRadioDefault",id:"work-with-nds"},null,512),[[U,e.clientForm.work_with_nds]]),Vt])]),t("div",Ut,[t("div",Dt,[m(t("input",{class:"form-check-input",type:"radio",value:"0",name:"flexRadioDefault","onUpdate:modelValue":o[4]||(o[4]=d=>e.clientForm.work_with_nds=d),id:"work-without-nds"},null,512),[[U,e.clientForm.work_with_nds]]),Tt])]),t("div",jt,[t("div",zt,[m(t("input",{class:"form-check-input",type:"radio",value:"2",name:"flexRadioDefault","onUpdate:modelValue":o[5]||(o[5]=d=>e.clientForm.work_with_nds=d),id:"work-without-nds"},null,512),[[U,e.clientForm.work_with_nds]]),qt])])])],64)):h("",!0)}const Zt=D(ft,[["render",It]]),St={props:["modelValue"],data(){return{clientForm:null}},watch:{clientForm:{handler(s){this.$emit("update:modelValue",this.clientForm)},deep:!0}},mounted(){this.clientForm=this.modelValue}},Mt={class:"form-floating mb-2"},Et=t("label",{for:"checkout-phone"},"Номер телефона",-1),Ot={class:"form-floating mb-2"},Rt=t("label",{for:"checkout-email"},"Электронная почта",-1),Bt={class:"form-floating mb-2"},Nt=t("label",{for:"checkout-email"},"Паспорт",-1),Jt={class:"form-floating mb-2"},Lt=t("label",{for:"checkout-email"},"Выдан",-1),Gt={class:"form-floating mb-2"},Kt=t("label",{for:"checkout-email"},"Адрес доставки",-1),At={class:"form-floating mb-2"},Ht=t("label",{for:"checkout-email"},"Дополнительная информация",-1);function Qt(s,o,b,x,e,_){const l=E("mask");return e.clientForm?(r(),c(k,{key:0},[t("div",Mt,[m(t("input",{type:"text",class:"form-control","onUpdate:modelValue":o[0]||(o[0]=d=>e.clientForm.phone=d),id:"checkout-phone",placeholder:"name@example.com",required:""},null,512),[[l,"+7(###)###-##-##"],[y,e.clientForm.phone]]),Et]),t("div",Ot,[m(t("input",{type:"email",class:"form-control","onUpdate:modelValue":o[1]||(o[1]=d=>e.clientForm.email=d),id:"checkout-email",placeholder:"name@example.com"},null,512),[[y,e.clientForm.email]]),Rt]),t("div",Bt,[m(t("input",{type:"text",class:"form-control","onUpdate:modelValue":o[2]||(o[2]=d=>e.clientForm.passport=d),id:"checkout-email",placeholder:"name@example.com"},null,512),[[l,"## ##  ######"],[y,e.clientForm.passport]]),Nt]),t("div",Jt,[m(t("input",{type:"text",class:"form-control","onUpdate:modelValue":o[3]||(o[3]=d=>e.clientForm.passport_issued=d),id:"checkout-email",placeholder:"name@example.com"},null,512),[[y,e.clientForm.passport_issued]]),Lt]),t("div",Gt,[m(t("input",{type:"text",class:"form-control","onUpdate:modelValue":o[4]||(o[4]=d=>e.clientForm.delivery_address=d),id:"checkout-email",placeholder:"name@example.com",required:""},null,512),[[y,e.clientForm.delivery_address]]),Kt]),t("div",At,[m(t("input",{type:"text",class:"form-control","onUpdate:modelValue":o[5]||(o[5]=d=>e.clientForm.info=d),id:"checkout-email",placeholder:"name@example.com"},null,512),[[y,e.clientForm.info]]),Ht])],64)):h("",!0)}const $t=D(St,[["render",Qt]]);export{Yt as C,$t as I,Zt as L};
